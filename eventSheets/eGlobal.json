{
	"name": "eGlobal",
	"events": [
		{
			"eventType": "variable",
			"name": "TempInt",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 413716535809660
		},
		{
			"eventType": "variable",
			"name": "TouchMode",
			"type": "boolean",
			"initialValue": "false",
			"comment": "is the person using a touch-based/mobile device?",
			"isStatic": false,
			"isConstant": false,
			"sid": 567077129293003
		},
		{
			"eventType": "variable",
			"name": "Res_Width",
			"type": "number",
			"initialValue": "420",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 999859753132714
		},
		{
			"eventType": "variable",
			"name": "Res_Height",
			"type": "number",
			"initialValue": "240",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 500007570664453
		},
		{
			"eventType": "variable",
			"name": "Door_ID",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 234482354908020
		},
		{
			"eventType": "variable",
			"name": "WorldY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 269077377437491
		},
		{
			"eventType": "variable",
			"name": "WorldX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 406163752705466
		},
		{
			"eventType": "variable",
			"name": "Welcome_Seq",
			"type": "boolean",
			"initialValue": "true",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 301344247025038
		},
		{
			"eventType": "variable",
			"name": "Current_Menu",
			"type": "string",
			"initialValue": "TitleScreen",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 180464227514304
		},
		{
			"eventType": "variable",
			"name": "Player_WorldStart_Y",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 968053618611446
		},
		{
			"eventType": "variable",
			"name": "Player_WorldStart_X",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 425080548097936
		},
		{
			"eventType": "variable",
			"name": "Player_WorldX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 530909886725992
		},
		{
			"eventType": "variable",
			"name": "Player_WorldY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 430989629421168
		},
		{
			"eventType": "variable",
			"name": "DataLoaded",
			"type": "boolean",
			"initialValue": "false",
			"comment": "has the JSON been loaded",
			"isStatic": false,
			"isConstant": false,
			"sid": 341842934356942
		},
		{
			"eventType": "variable",
			"name": "CurrentAction",
			"type": "string",
			"initialValue": "",
			"comment": "The active interaction action: enter(door), look, talk, interact(with collectible)",
			"isStatic": false,
			"isConstant": false,
			"sid": 241501766075232
		},
		{
			"eventType": "variable",
			"name": "GameInitialized",
			"type": "boolean",
			"initialValue": "false",
			"comment": "has the game already started",
			"isStatic": false,
			"isConstant": false,
			"sid": 529176609400163
		},
		{
			"eventType": "variable",
			"name": "PlayerSpeed",
			"type": "number",
			"initialValue": "120",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 887396649279103
		},
		{
			"eventType": "variable",
			"name": "Interior",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Are we in an interior scene?",
			"isStatic": false,
			"isConstant": false,
			"sid": 981087237768808
		},
		{
			"eventType": "variable",
			"name": "PauseLock",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 809455210107037
		},
		{
			"eventType": "variable",
			"name": "AudioLevel",
			"type": "number",
			"initialValue": "0",
			"comment": "//set at 0 is \"normal\"",
			"isStatic": false,
			"isConstant": false,
			"sid": 925370848315132
		},
		{
			"eventType": "variable",
			"name": "Pause",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 917524656821485
		},
		{
			"eventType": "variable",
			"name": "Armed",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is player carrying a weapon",
			"isStatic": false,
			"isConstant": false,
			"sid": 130631539712999
		},
		{
			"eventType": "variable",
			"name": "ShopMode",
			"type": "boolean",
			"initialValue": "false",
			"comment": "Is this room a Shop?",
			"isStatic": false,
			"isConstant": false,
			"sid": 526180833439310
		},
		{
			"eventType": "variable",
			"name": "RecoveringFromDeath",
			"type": "boolean",
			"initialValue": "false",
			"comment": "did player just die?",
			"isStatic": false,
			"isConstant": false,
			"sid": 608723725479309
		},
		{
			"eventType": "variable",
			"name": "CurrentWorld",
			"type": "string",
			"initialValue": "00",
			"comment": "What World (XX) is the player in?",
			"isStatic": false,
			"isConstant": false,
			"sid": 615151120513078
		},
		{
			"eventType": "variable",
			"name": "WindowScale",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 653002014247112
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Window Scale & Positioning",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "h",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 599432097982266
				},
				{
					"eventType": "variable",
					"name": "w",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 311029120352764
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 146763983647014
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 496208418067768,
							"parameters": {
								"type": "log",
								"message": "NWjs.WindowWidth&\" window width\""
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 318850840761936,
							"parameters": {
								"variable": "Interior",
								"value": "false"
							}
						}
					],
					"sid": 738629329500528
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 672243796643425,
							"parameters": {
								"first-value": "NWjs.WindowWidth",
								"comparison": 2,
								"second-value": "Res_Width * 4"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 752136272500790,
							"parameters": {
								"variable": "w",
								"value": "NWjs.WindowWidth - Res_Width"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 994698733860405,
							"parameters": {
								"variable": "h",
								"value": "NWjs.WindowHeight - Res_Height"
							}
						},
						{
							"id": "set-width",
							"objectClass": "NWjs",
							"sid": 682680501465819,
							"parameters": {
								"width": "(Res_Width * 4) + w"
							}
						},
						{
							"id": "set-height",
							"objectClass": "NWjs",
							"sid": 657245577129758,
							"parameters": {
								"height": "(Res_Height * 4) + h"
							}
						},
						{
							"id": "wait-for-signal",
							"objectClass": "System",
							"sid": 872378187692748,
							"parameters": {
								"tag": "\"Window_Rescaled\""
							}
						},
						{
							"id": "set-x",
							"objectClass": "NWjs",
							"sid": 787982863009552,
							"parameters": {
								"x": "int((Browser.ScreenWidth/2) - ((NWjs.WindowWidth+w)/2))"
							}
						},
						{
							"id": "set-y",
							"objectClass": "NWjs",
							"sid": 958238189047319,
							"parameters": {
								"y": "int((Browser.ScreenHeight/2) - ((NWjs.WindowHeight+h)/2))"
							}
						},
						{
							"id": "set-layout-scale",
							"objectClass": "System",
							"sid": 170842033000181,
							"parameters": {
								"scale": "1"
							}
						}
					],
					"sid": 428384130837462
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 629940874294235,
							"parameters": {
								"first-value": "NWjs.WindowWidth ",
								"comparison": 5,
								"second-value": "Res_Width*4"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 575967210937039
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 621834831141798,
							"parameters": {
								"tag": "\"Window_Rescaled\""
							}
						}
					],
					"sid": 337945473895251
				}
			],
			"sid": 610128744872690
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Transitions",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "Transition",
					"functionDescription": "Automatically converted from 'Transition'",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "state",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 634681250266421
						},
						{
							"name": "tag",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 441256073056763
						},
						{
							"name": "type",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 441961825266069
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Transition",
							"sid": 277156618891676
						},
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 814901146475773,
							"parameters": {
								"object-to-create": "Transition",
								"layer": "\"Transitions\"",
								"x": "ViewportLeft(0)",
								"y": "ViewportTop(0)",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Transition",
							"sid": 857203637668372,
							"parameters": {
								"instance-variable": "State",
								"value": "state"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Transition",
							"sid": 381581846335921,
							"parameters": {
								"instance-variable": "Tag",
								"value": "tag"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "Transition",
							"sid": 538854088704716,
							"parameters": {
								"opacity": "Self.State = \"Out\" ? 0 : 100"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 370586864779919,
							"parameters": {
								"group-name": "\"Enemies\"",
								"state": "deactivated"
							}
						}
					],
					"sid": 918175499265222,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 626743866190976,
									"parameters": {
										"variable": "tag",
										"comparison": 0,
										"value": "\"1\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Transition",
									"sid": 178084895935148,
									"parameters": {
										"frame-number": "1"
									}
								}
							],
							"sid": 182103640326151
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Transition",
							"sid": 390409209000632,
							"parameters": {
								"instance-variable": "State",
								"comparison": 0,
								"value": "\"Out\""
							}
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 337534451207592,
							"parameters": {
								"group-name": "\"Player Engine\"",
								"state": "deactivated"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 467243079246997,
							"parameters": {
								"group-name": "\"Triggers\"",
								"state": "deactivated"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 765822233467876,
							"parameters": {
								"group-name": "\"In Dialogue\"",
								"state": "deactivated"
							}
						},
						{
							"id": "fade-volume",
							"objectClass": "Audio",
							"sid": 714537895900102,
							"parameters": {
								"tag": "\"\"",
								"db": "-100",
								"duration": "0.5",
								"ending": "stop"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "Transition",
							"sid": 299672694609488,
							"parameters": {
								"opacity": "Self.Opacity + 100 * dt"
							}
						}
					],
					"sid": 585670616017818,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-opacity",
									"objectClass": "Transition",
									"sid": 596048443839681,
									"parameters": {
										"comparison": 5,
										"opacity": "100"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 932981492678656
								}
							],
							"actions": [
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"(globalThis as any).AdventureLand.Transitions.cleanupAndTransition();"
									]
								}
							],
							"sid": 614872835902693,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 175805448683198,
											"parameters": {
												"first-value": "Dict_SaveGameData.Get(\"World_\"&CurrentWorld&\"Loaded\")",
												"comparison": 1,
												"second-value": "\"true\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "displayWorldName",
											"sid": 427207511653135
										}
									],
									"sid": 435140152942386
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 779077276730932
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 870983945767879,
											"parameters": {
												"seconds": "0.2",
												"use-timescale": true
											}
										},
										{
											"id": "signal",
											"objectClass": "System",
											"sid": 742549808840444,
											"parameters": {
												"tag": "Transition.Tag"
											}
										}
									],
									"sid": 657452413864796
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Transition",
							"sid": 778264453647480,
							"parameters": {
								"instance-variable": "State",
								"comparison": 0,
								"value": "\"In\""
							}
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "Transition",
							"sid": 721048751343029,
							"parameters": {
								"opacity": "Self.Opacity - 100 * dt"
							}
						}
					],
					"sid": 316573061672448,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-opacity",
									"objectClass": "Transition",
									"sid": 598414426136707,
									"parameters": {
										"comparison": 3,
										"opacity": "0"
									}
								}
							],
							"actions": [
								{
									"id": "signal",
									"objectClass": "System",
									"sid": 565196518360592,
									"parameters": {
										"tag": "Transition.Tag"
									}
								},
								{
									"id": "destroy",
									"objectClass": "Transition",
									"sid": 733732845444720
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 506912980602774,
									"parameters": {
										"group-name": "\"Player Engine\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 231308805879766,
									"parameters": {
										"group-name": "\"Triggers\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 392960354410255,
									"parameters": {
										"group-name": "\"In Dialogue\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 847418418162699,
									"disabled": true,
									"parameters": {
										"group-name": "\"Enemies\"",
										"state": "activated"
									}
								}
							],
							"sid": 187040172172229
						}
					]
				},
				{
					"functionName": "displayWorldName",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 521011957373311,
							"parameters": {
								"object-to-create": "obj_TextBlock",
								"layer": "\"Transitions\"",
								"x": "LayoutWidth/2",
								"y": "LayoutHeight/2",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-text",
							"objectClass": "obj_TextBlock",
							"sid": 653547264490067,
							"parameters": {
								"text": "Functions.GetWorldName(CurrentWorld)"
							}
						},
						{
							"id": "set-font-size",
							"objectClass": "obj_TextBlock",
							"sid": 861799375217952,
							"parameters": {
								"size-pt": "16"
							}
						},
						{
							"id": "set-width",
							"objectClass": "obj_TextBlock",
							"sid": 771467234010754,
							"parameters": {
								"width": "obj_TextBlock.TextWidth"
							}
						},
						{
							"id": "set-height",
							"objectClass": "obj_TextBlock",
							"sid": 165280903466709,
							"parameters": {
								"height": "obj_TextBlock.TextHeight"
							}
						},
						{
							"id": "set-position",
							"objectClass": "obj_TextBlock",
							"sid": 654448128140222,
							"parameters": {
								"x": "(ViewportLeft(0)/2)+(LayoutWidth/2)-(obj_TextBlock.Width/2)",
								"y": "(LayoutHeight/2)-(obj_TextBlock.Height/2)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 808195888130163,
							"parameters": {
								"variable": "TempVarY",
								"value": "\"CurrentWorld_\"&CurrentWorld"
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "obj_TextBlock",
							"sid": 343045217189552,
							"parameters": {
								"opacity": "0"
							}
						}
					],
					"sid": 639882704167002
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-layer",
							"objectClass": "obj_TextBlock",
							"sid": 429688282715756,
							"parameters": {
								"layer": "\"Transitions\""
							}
						}
					],
					"actions": [],
					"sid": 383672887332642,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-opacity",
									"objectClass": "obj_TextBlock",
									"sid": 662636515793784,
									"parameters": {
										"comparison": 3,
										"opacity": "100"
									}
								}
							],
							"actions": [
								{
									"id": "set-opacity",
									"objectClass": "obj_TextBlock",
									"sid": 873003669348815,
									"parameters": {
										"opacity": "Self.Opacity + 240 * dt"
									}
								}
							],
							"sid": 378425074642884
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-opacity",
									"objectClass": "obj_TextBlock",
									"sid": 147414879806611,
									"parameters": {
										"comparison": 5,
										"opacity": "100"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 347596012861828
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 372666625565548,
									"parameters": {
										"seconds": "1.5",
										"use-timescale": true
									}
								},
								{
									"id": "signal",
									"objectClass": "System",
									"sid": 764076354856800,
									"parameters": {
										"tag": "Transition.Tag"
									}
								},
								{
									"id": "destroy",
									"objectClass": "obj_TextBlock",
									"sid": 525102852520867
								}
							],
							"sid": 586116611359495
						}
					]
				}
			],
			"sid": 462325072773049
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Data",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Check if data exists, if game hasn't already started",
					"background-color": [
						0.06666666666666667,
						1,
						0,
						1
					]
				},
				{
					"functionName": "initializeGameData",
					"functionDescription": "trigger from intro screen",
					"functionCategory": "GameData",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 823281808357729,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 478291389989969,
									"parameters": {
										"variable": "GameInitialized"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "request-project-file",
									"objectClass": "AJAX",
									"sid": 302899642957780,
									"parameters": {
										"tag": "\"LoadItemsLibrary\"",
										"file": "ItemsLibrary.json"
									}
								},
								{
									"id": "request-project-file",
									"objectClass": "AJAX",
									"sid": 937946043779929,
									"parameters": {
										"tag": "\"LoadItemTriggers\"",
										"file": "ItemTriggers.json"
									}
								},
								{
									"id": "check-item-exists",
									"objectClass": "LocalStorage",
									"sid": 104369048276696,
									"parameters": {
										"key": "\"SaveGameData\""
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 219501031912257,
									"parameters": {
										"variable": "GameInitialized",
										"value": "true"
									}
								}
							],
							"sid": 251520377445238
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-completed",
							"objectClass": "AJAX",
							"sid": 754377586913665,
							"parameters": {
								"tag": "\"LoadItemsLibrary\""
							}
						}
					],
					"actions": [
						{
							"id": "parse",
							"objectClass": "JSON_ItemsLibrary",
							"sid": 162198721260037,
							"parameters": {
								"data": "AJAX.LastData"
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"// Access the parsed JSON data that's already in JSON_ItemsLibrary",
								"const itemsData = runtime.objects.JSON_ItemsLibrary.getFirstInstance()!.getJsonDataCopy();",
								"",
								"// Initialize the item manager",
								"const success = (globalThis as any).AdventureLand.Items.initialize(itemsData);",
								"",
								"if (!success) {",
								"    console.error(\"Failed to initialize item cache!\");",
								"} else {",
								"    console.log(\"✅ Item cache initialized successfully\");",
								"}"
							]
						}
					],
					"sid": 782343475575483
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-completed",
							"objectClass": "AJAX",
							"sid": 671291685403450,
							"parameters": {
								"tag": "\"LoadItemTriggers\""
							}
						}
					],
					"actions": [
						{
							"id": "parse",
							"objectClass": "JSON_ItemTriggers",
							"sid": 513185432396883,
							"parameters": {
								"data": "AJAX.LastData"
							}
						}
					],
					"sid": 957644745107526
				},
				{
					"eventType": "comment",
					"text": "Load Data from LocalStorage -  cascade from SaveGameData to InvCollection and then ItemNumbers",
					"background-color": [
						0.01568627450980392,
						1,
						0,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-exists",
							"objectClass": "LocalStorage",
							"sid": 965204477763909,
							"parameters": {
								"key": "\"SaveGameData\""
							}
						}
					],
					"actions": [
						{
							"id": "get-item",
							"objectClass": "LocalStorage",
							"sid": 292556043302844,
							"parameters": {
								"key": "\"SaveGameData\""
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"console.log(\"Getting item SaveGameData\");"
							]
						}
					],
					"sid": 395682133315497
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-get",
							"objectClass": "LocalStorage",
							"sid": 503846955830785,
							"parameters": {
								"key": "\"SaveGameData\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Dict_SaveGameData",
							"sid": 401508250068893,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "get-item",
							"objectClass": "LocalStorage",
							"sid": 403687230281376,
							"parameters": {
								"key": "\"InvCollection\""
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"console.log(\"Getting item InvCollection\");"
							]
						}
					],
					"sid": 289928017182172
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-get",
							"objectClass": "LocalStorage",
							"sid": 176688976532024,
							"parameters": {
								"key": "\"InvCollection\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Arr_InvCollection",
							"sid": 217367117284539,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "get-item",
							"objectClass": "LocalStorage",
							"sid": 241139095813907,
							"parameters": {
								"key": "\"ItemTriggersCollected\""
							}
						}
					],
					"sid": 568863474959448
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-get",
							"objectClass": "LocalStorage",
							"sid": 574130144474189,
							"parameters": {
								"key": "\"ItemTriggersCollected\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Arr_ItemTriggersCollected",
							"sid": 354678491062379,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "get-item",
							"objectClass": "LocalStorage",
							"sid": 758324363143871,
							"parameters": {
								"key": "\"ItemNumbers\""
							}
						}
					],
					"sid": 578786455147692
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-get",
							"objectClass": "LocalStorage",
							"sid": 474548454829716,
							"parameters": {
								"key": "\"ItemNumbers\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Dict_ItemNumbers",
							"sid": 546513162175655,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 939519607527865,
							"parameters": {
								"variable": "DataLoaded",
								"value": "true"
							}
						},
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 855472338345199,
							"parameters": {
								"tag": "\"DataLoaded\""
							}
						}
					],
					"sid": 780659093902356
				},
				{
					"eventType": "comment",
					"text": "Load Default data from JSONs if no SaveGameData exists",
					"background-color": [
						0.01568627450980392,
						1,
						0,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-item-missing",
							"objectClass": "LocalStorage",
							"sid": 754737347189434,
							"parameters": {
								"key": "\"SaveGameData\""
							}
						}
					],
					"actions": [
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 132740749364629,
							"parameters": {
								"tag": "\"Load_SaveGameData\"",
								"file": "SaveGameData.json"
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"console.log(\"Requesting SaveGameData\");"
							]
						}
					],
					"sid": 812897646419033
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-completed",
							"objectClass": "AJAX",
							"sid": 318416720750987,
							"parameters": {
								"tag": "\"Load_SaveGameData\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Dict_SaveGameData",
							"sid": 146078559026080,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 540535801057421,
							"parameters": {
								"tag": "\"Load_InvCollection\"",
								"file": "InvCollection.json"
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"console.log(\"Requesting InvCollection.json\");"
							]
						}
					],
					"sid": 528776511683587
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-completed",
							"objectClass": "AJAX",
							"sid": 643476519683612,
							"parameters": {
								"tag": "\"Load_InvCollection\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Arr_InvCollection",
							"sid": 691230293268364,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 375476404864422,
							"parameters": {
								"tag": "\"Load_ItemTriggersCollected\"",
								"file": "ItemTriggersCollected.json"
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"console.log(\"[Save/Load Debug] Load_InvCollection triggered\");",
								"console.log(\"  File being loaded:\", /* check what file/key is being requested */);",
								""
							]
						}
					],
					"sid": 611043963755605
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-completed",
							"objectClass": "AJAX",
							"sid": 769003851823872,
							"parameters": {
								"tag": "\"Load_ItemTriggersCollected\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Arr_ItemTriggersCollected",
							"sid": 865971472015555,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 923850753986509,
							"parameters": {
								"tag": "\"Load_ItemNumbers\"",
								"file": "ItemNumbers.json"
							}
						}
					],
					"sid": 331356721034444
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-completed",
							"objectClass": "AJAX",
							"sid": 818834450503803,
							"parameters": {
								"tag": "\"Load_ItemNumbers\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "Dict_ItemNumbers",
							"sid": 297976726875639,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 682169609144292,
							"parameters": {
								"variable": "DataLoaded",
								"value": "true"
							}
						},
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 130132489340270,
							"parameters": {
								"tag": "\"DataLoaded\""
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"// Add this enhanced debug to Event 28 (Load_InvCollection completed)",
								"// This will show us what's happening during inventory loading",
								"",
								"console.log(\"=== INVENTORY LOADING DEBUG ===\");",
								"",
								"// Check if the array exists",
								"const invArray = runtime.objects.Arr_InvCollection.getFirstInstance();",
								"if (!invArray) {",
								"    console.error(\"❌ Arr_InvCollection not found!\");",
								"    return;",
								"}",
								"",
								"console.log(\"Arr_InvCollection dimensions:\", {",
								"    width: invArray.width,",
								"    height: invArray.height,",
								"    depth: invArray.depth",
								"});",
								"",
								"// Check the actual array contents",
								"console.log(\"First 10 array values:\");",
								"for (let i = 0; i < Math.min(10, invArray.width); i++) {",
								"    const value = invArray.getAt(i);",
								"    console.log(`  [${i}] = ${value} (type: ${typeof value})`);",
								"}",
								"",
								"",
								"// Check if Dict_ItemNumbers loaded",
								"const itemNumbersDict = runtime.objects.Dict_ItemNumbers.getFirstInstance();",
								"if (itemNumbersDict && itemNumbersDict.getDataMap) {",
								"    const dataMap = itemNumbersDict.getDataMap();",
								"    console.log(\"Dictionary data:\", dataMap);",
								"    ",
								"    // Now you can iterate through the dictionary",
								"    for (const [key, value] of dataMap) {",
								"        console.log(`Found item: ${key}, Quantity=${value}`);",
								"    }",
								"}",
								"",
								"// For WRITING to dictionary, you typically need to use C3 actions, not TypeScript",
								"// This is usually done through event sheets, not TypeScript",
								"",
								"",
								"",
								"// Build inventory data as before",
								"const inventoryData = [];",
								"for (let i = 0; i < invArray.width; i++) {",
								"    const itemId = Number(invArray.getAt(i));",
								"    if (itemId > 0 && itemNumbersDict) {  // Check itemNumbersDict is not null",
								"        // Get the item name for this ID",
								"        const itemNameResult = runtime.callFunction(\"GetItemName\", itemId);  // Pass itemId directly, not in array",
								"        const itemName = String(itemNameResult || \"\");  // Convert to string and handle null",
								"        ",
								"        // Get the dictionary's data map",
								"        const dataMap = itemNumbersDict.getDataMap();",
								"        ",
								"        // Get quantity from the map using the item name as key",
								"        const quantity = Number(dataMap.get(itemName) || 1);",
								"        ",
								"        inventoryData.push({",
								"            itemId: itemId,",
								"            quantity: quantity",
								"        });",
								"        console.log(`  Found item: ID=${itemId}, Name=${itemName}, Quantity=${quantity}`);",
								"    }",
								"}",
								"",
								"",
								"console.log(`Total items to load into ItemManager: ${inventoryData.length}`);",
								"console.log(\"inventoryData:\", inventoryData);",
								"",
								"// Initialize inventory in ItemManager",
								"(globalThis as any).AdventureLand.Items.initializeInventory(inventoryData);",
								"",
								"console.log(\"=== END INVENTORY LOADING DEBUG ===\");",
								"",
								"// Also add this to check if items are loading correctly",
								"const itemManager = (globalThis as any).AdventureLand.Items;",
								"if (itemManager) {",
								"    console.log(\"Testing ItemManager lookups after init:\");",
								"    console.log(\"  Pike ID:\", itemManager.getItemId(\"Pike\"));",
								"    console.log(\"  Golden Tee-Shirt ID:\", itemManager.getItemId(\"Golden Tee-Shirt\"));",
								"}"
							]
						}
					],
					"sid": 477728293557967
				},
				{
					"eventType": "comment",
					"text": "Save function to send Dictionary info back into local storage",
					"background-color": [
						0,
						1,
						0.06666666666666667,
						1
					]
				},
				{
					"functionName": "SaveGameData",
					"functionDescription": "save Dictionary data to local storage",
					"functionCategory": "GameData",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-item",
							"objectClass": "LocalStorage",
							"sid": 515402469751977,
							"parameters": {
								"key": "\"InvCollection\"",
								"value": "Arr_InvCollection.AsJSON"
							}
						},
						{
							"id": "set-item",
							"objectClass": "LocalStorage",
							"sid": 671717535336438,
							"parameters": {
								"key": "\"ItemTriggersCollected\"",
								"value": "Arr_ItemTriggersCollected.AsJSON"
							}
						},
						{
							"id": "set-item",
							"objectClass": "LocalStorage",
							"sid": 263707297815174,
							"parameters": {
								"key": "\"SaveGameData\"",
								"value": "Dict_SaveGameData.AsJSON"
							}
						},
						{
							"id": "set-item",
							"objectClass": "LocalStorage",
							"sid": 465128273286139,
							"parameters": {
								"key": "\"ItemNumbers\"",
								"value": "Dict_ItemNumbers.AsJSON"
							}
						},
						{
							"callFunction": "RefreshInventory",
							"sid": 388035508276481
						}
					],
					"sid": 848117865563820
				}
			],
			"sid": 763216160641052
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Layout Startup",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Create the Inventory layers to draw UI on and set scale for all layers",
					"background-color": [
						0.01568627450980392,
						1,
						0,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 900994491755670
						}
					],
					"actions": [
						{
							"id": "add-layer",
							"objectClass": "System",
							"sid": 362996124766172,
							"parameters": {
								"name": "\"Inventory\"",
								"insert-by": "\"HUD_UI\"",
								"where": "above"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 694405663922828,
							"parameters": {
								"layer": "\"Inventory\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "add-layer",
							"objectClass": "System",
							"sid": 336530442286288,
							"parameters": {
								"name": "\"Hint\"",
								"insert-by": "\"Inventory\"",
								"where": "above"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 944922299010099,
							"parameters": {
								"layer": "\"Hint\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 189012469709380,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 616415610877151,
									"parameters": {
										"name": "\"Layers\"",
										"start-index": "0",
										"end-index": "16"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 647059835185388,
									"disabled": true
								}
							],
							"actions": [
								{
									"id": "set-layer-scale",
									"objectClass": "System",
									"sid": 967296721358141,
									"parameters": {
										"layer": "loopindex",
										"scale": "1"
									}
								}
							],
							"sid": 724395405541595
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 625229613565887
								}
							],
							"actions": [
								{
									"id": "signal",
									"objectClass": "System",
									"sid": 724650198038800,
									"parameters": {
										"tag": "\"Game Layers Created\""
									}
								}
							],
							"sid": 669781769815566
						}
					]
				}
			],
			"sid": 731698851710396
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Inventory",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Health",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Adjust health",
							"background-color": [
								0.16862745098039217,
								1,
								0,
								1
							]
						},
						{
							"functionName": "adjustHealth",
							"functionDescription": "modify player health and draw hearts",
							"functionCategory": "Stats",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "health_change",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 378086199430043
								},
								{
									"name": "maxOutHealth",
									"type": "boolean",
									"initialValue": "false",
									"comment": "should we max out the player health",
									"sid": 308289876281719
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_Font",
									"sid": 405413322999925,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"health\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UI_Font",
									"sid": 163592741695068,
									"parameters": {
										"text": "Dict_SaveGameData.Get(\"MaxHealth\")"
									}
								}
							],
							"sid": 179579311758576,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 571999643511612,
											"parameters": {
												"variable": "maxOutHealth"
											}
										}
									],
									"actions": [
										{
											"id": "set-key",
											"objectClass": "Dict_SaveGameData",
											"sid": 167670254838865,
											"parameters": {
												"key": "\"Health\"",
												"value": "Self.Get(\"MaxHealth\")"
											}
										}
									],
									"sid": 814796171516179
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 195650798417601,
											"parameters": {
												"variable": "maxOutHealth"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-key",
											"objectClass": "Dict_SaveGameData",
											"sid": 505987706018588,
											"parameters": {
												"key": "\"Health\"",
												"value": "clamp((Self.Get(\"Health\") +health_change), -100, Self.Get(\"MaxHealth\")) "
											}
										}
									],
									"sid": 859425698097537
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 952800134606350,
											"parameters": {
												"variable": "Health",
												"value": "Dict_SaveGameData.Get(\"Health\")"
											}
										},
										{
											"callFunction": "SaveGameData",
											"sid": 946171354145038
										}
									],
									"sid": 693226539406853
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 408573433965953,
											"parameters": {
												"object": "Heart"
											}
										},
										{
											"id": "is-on-layer",
											"objectClass": "Heart",
											"sid": 839977059743139,
											"parameters": {
												"layer": "\"Inventory\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Heart",
											"sid": 106939641510714,
											"parameters": {
												"instance-variable": "HeartIndex",
												"comparison": 3,
												"value": "Dict_SaveGameData.Get(\"MaxHealth\")/2"
											}
										}
									],
									"actions": [],
									"sid": 331839091664004,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 880708857908966,
													"parameters": {
														"variable": "Health",
														"comparison": 5,
														"value": "Heart.HeartIndex *2"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Heart",
													"sid": 160534886947976,
													"parameters": {
														"frame-number": "\"Full\""
													}
												}
											],
											"sid": 774793204377153
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 878517479310794,
													"parameters": {
														"variable": "Health",
														"comparison": 3,
														"value": "(Heart.HeartIndex *2)-2"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Heart",
													"sid": 502117072410474,
													"parameters": {
														"frame-number": "\"Empty\""
													}
												}
											],
											"sid": 218845261583178
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 549540847838345,
													"parameters": {
														"variable": "Health",
														"comparison": 0,
														"value": "(Heart.HeartIndex *2)-1"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Heart",
													"sid": 245066509864252,
													"parameters": {
														"frame-number": "\"Half\""
													}
												}
											],
											"sid": 497800888935904
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 153017557636328,
											"parameters": {
												"object": "Heart"
											}
										},
										{
											"id": "is-on-layer",
											"objectClass": "Heart",
											"sid": 371280704744346,
											"parameters": {
												"layer": "\"HUD_UI\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Heart",
											"sid": 605102643416349,
											"parameters": {
												"instance-variable": "HeartIndex",
												"comparison": 3,
												"value": "Dict_SaveGameData.Get(\"MaxHealth\")/2"
											}
										}
									],
									"actions": [],
									"sid": 752548765438380,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 157538608859314,
													"parameters": {
														"variable": "Health",
														"comparison": 5,
														"value": "Heart.HeartIndex *2"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Heart",
													"sid": 883905690403867,
													"parameters": {
														"frame-number": "\"Full\""
													}
												}
											],
											"sid": 373904439187106
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 717378645310713,
													"parameters": {
														"variable": "Health",
														"comparison": 3,
														"value": "(Heart.HeartIndex *2)-2"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Heart",
													"sid": 184490369572853,
													"parameters": {
														"frame-number": "\"Empty\""
													}
												}
											],
											"sid": 344779352806869
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 892031515998015,
													"parameters": {
														"variable": "Health",
														"comparison": 0,
														"value": "(Heart.HeartIndex *2)-1"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-frame",
													"objectClass": "Heart",
													"sid": 272847658201357,
													"parameters": {
														"frame-number": "\"Half\""
													}
												}
											],
											"sid": 689311661916270
										}
									]
								}
							]
						}
					],
					"sid": 439826490774258
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Gems",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "Adjust_Gems",
							"functionDescription": "Automatically converted from 'Adjust_Gems'",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "gems",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 543520199131070
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-key",
									"objectClass": "Dict_SaveGameData",
									"sid": 737810028650440,
									"parameters": {
										"key": "\"Gems\"",
										"value": "Self.Get(\"Gems\") + clamp(gems, -999, 999)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 777785129484177,
									"parameters": {
										"variable": "gems",
										"value": "Dict_SaveGameData.Get(\"Gems\")"
									}
								},
								{
									"callFunction": "SaveGameData",
									"sid": 835256677568017
								}
							],
							"sid": 903592720547356,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "UI_Font",
											"sid": 762237972361675,
											"parameters": {
												"instance-variable": "state",
												"comparison": 0,
												"value": "\"gems\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "UI_Font",
											"sid": 271875526629384,
											"parameters": {
												"text": "gems"
											}
										}
									],
									"sid": 866636298423733
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "obj_Text_A",
											"sid": 515841070975178,
											"parameters": {
												"instance-variable": "field",
												"comparison": 0,
												"value": "\"Gems\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "obj_Text_A",
											"sid": 158636002532775,
											"parameters": {
												"text": "gems"
											}
										}
									],
									"sid": 181140870703463
								}
							]
						}
					],
					"sid": 650405008946856
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Inventory Startup",
					"description": "These events occur on startup and set up the inventory for use. This includes loading all of the project files for the inventory to use. ",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Start adding items from data into game UI "
						},
						{
							"eventType": "comment",
							"text": "Initiate creation of Hearts, Gems, Equipped items from Dictionary"
						},
						{
							"functionName": "populateDictionaryItems",
							"functionDescription": "Set health, gems, equip, invCollection from Dictionary and create hearts in Inventory and HUD",
							"functionCategory": "GameData",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "Adjust_Gems",
									"sid": 995674605554485,
									"parameters": [
										"0"
									]
								},
								{
									"type": "comment",
									"text": "Separate out UpdateInvArray to be in Inventory screen only (and not in world)"
								},
								{
									"callFunction": "SaveGameData",
									"sid": 776011633408259
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 500141920263205,
									"parameters": {
										"variable": "ShopMode",
										"value": "false"
									}
								}
							],
							"sid": 810524137362292,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 691717121193466,
											"parameters": {
												"variable": "DataLoaded"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "wait-for-signal",
											"objectClass": "System",
											"sid": 688162311028496,
											"parameters": {
												"tag": "\"DataLoaded\""
											}
										}
									],
									"sid": 563976404809790
								},
								{
									"eventType": "comment",
									"text": "TODO: Set Gems, Hearts and Equip to inheirit from Dict_SaveGameData "
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 148661874472000,
											"parameters": {
												"name": "\"\"",
												"start-index": "1",
												"end-index": "Dict_SaveGameData.Get(\"MaxHealth\")/2"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 173799017818410,
											"parameters": {
												"object-to-create": "Heart",
												"layer": "\"Inventory\"",
												"x": "138 + ((loopindex-1)*24)",
												"y": "66",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-scale",
											"objectClass": "Heart",
											"sid": 161871665158150,
											"parameters": {
												"scale": "2"
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Heart",
											"sid": 400153969811969,
											"parameters": {
												"frame-number": "\"Full\""
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "Heart",
											"sid": 310241512964833
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Heart",
											"sid": 601114061038593,
											"parameters": {
												"instance-variable": "HeartIndex",
												"value": "loopindex"
											}
										}
									],
									"sid": 735145536739776
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 654239882885899,
											"parameters": {
												"name": "\"\"",
												"start-index": "1",
												"end-index": "Dict_SaveGameData.Get(\"MaxHealth\")/2"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 313379101743301,
											"parameters": {
												"object-to-create": "Heart",
												"layer": "\"HUD_UI\"",
												"x": "6 + ((loopindex-1)*12)",
												"y": "4",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-scale",
											"objectClass": "Heart",
											"sid": 970048382981596,
											"parameters": {
												"scale": "1"
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Heart",
											"sid": 439004614582767,
											"parameters": {
												"frame-number": "\"Full\""
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "Heart",
											"sid": 468748461552995
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Heart",
											"sid": 957613811221869,
											"parameters": {
												"instance-variable": "HeartIndex",
												"value": "loopindex"
											}
										}
									],
									"sid": 268659485087119
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 127911997002660
										}
									],
									"actions": [
										{
											"callFunction": "populateItemSlots",
											"sid": 240126192393705
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 703914448011535,
											"parameters": {
												"variable": "CurrentInvWindow",
												"value": "\"main\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 716869172602322,
											"parameters": {
												"seconds": ".1",
												"use-timescale": true
											}
										},
										{
											"callFunction": "Calc_Hero_Stats",
											"sid": 303918285864025,
											"parameters": [
												"\"equip\""
											]
										},
										{
											"id": "map-function",
											"objectClass": "Functions",
											"sid": 455214967899236,
											"parameters": {
												"name": "\"DialogueFunctions\"",
												"string": "\"grantFreeItem\"",
												"function": "grantFreeItem"
											}
										}
									],
									"sid": 645907929529474,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 610270056687395,
													"parameters": {
														"variable": "RecoveringFromDeath"
													}
												}
											],
											"actions": [
												{
													"callFunction": "adjustHealth",
													"sid": 623887885347151,
													"parameters": [
														"0",
														true
													]
												},
												{
													"id": "set-boolean-eventvar",
													"objectClass": "System",
													"sid": 440259566685274,
													"parameters": {
														"variable": "RecoveringFromDeath",
														"value": "false"
													}
												}
											],
											"sid": 682964647807821
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 674167318348804
												}
											],
											"actions": [
												{
													"callFunction": "adjustHealth",
													"sid": 115149446178992,
													"parameters": [
														"0",
														false
													]
												}
											],
											"sid": 249207166021620
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Debug event to clear local storage for testing - remove on publish",
							"background-color": [
								1,
								0.5843137254901961,
								0,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 601965910686677,
									"parameters": {
										"key": 192
									}
								}
							],
							"actions": [
								{
									"id": "reset-global-variables",
									"objectClass": "System",
									"sid": 272972717948874,
									"parameters": {
										"reset-static": false
									}
								},
								{
									"id": "clear-storage",
									"objectClass": "LocalStorage",
									"sid": 813594905117112
								},
								{
									"id": "remove-item",
									"objectClass": "LocalStorage",
									"sid": 569350061049725,
									"parameters": {
										"key": "\"SaveGameData\""
									}
								},
								{
									"id": "remove-item",
									"objectClass": "LocalStorage",
									"sid": 358912031278069,
									"parameters": {
										"key": "\"InvCollection\""
									}
								},
								{
									"id": "remove-item",
									"objectClass": "LocalStorage",
									"sid": 480875207152021,
									"parameters": {
										"key": "\"ItemNumbers\""
									}
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 216129418894958,
									"parameters": {
										"audio-file": "delete",
										"loop": "not-looping",
										"volume": "-5",
										"stereo-pan": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "clear",
									"objectClass": "Inventories",
									"sid": 970232820652750,
									"parameters": {
										"value": "0"
									}
								},
								{
									"id": "clear",
									"objectClass": "Dict_ItemNumbers",
									"sid": 737402255543292
								},
								{
									"id": "clear",
									"objectClass": "Dict_SaveGameData",
									"sid": 116120988366097
								},
								{
									"id": "set-instvar-value",
									"objectClass": "obj_TitleText",
									"sid": 114801767937622,
									"parameters": {
										"instance-variable": "title",
										"value": "\"PlayerName\""
									}
								}
							],
							"sid": 446634933519152
						},
						{
							"eventType": "comment",
							"text": "DebugClearing Save, Dictionary, Arrays and Resetting the Default Variables"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 774986801051614,
									"parameters": {
										"key": 192
									}
								}
							],
							"actions": [],
							"sid": 279372001499471
						}
					],
					"sid": 969844498420895
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Inventory Functions",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "This function is called when each of the inventories is first loaded and whenever the player picks up an item - it ensures that the array stores the correct number of pages in the InvPages variable and the savegamedata is updated"
						},
						{
							"functionName": "UpdateInvArray",
							"functionDescription": "",
							"functionCategory": "Inventory",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "SaveGameData",
									"sid": 919903100881920
								}
							],
							"sid": 880502904862737
						},
						{
							"eventType": "comment",
							"text": "These actions update the quantities of the items that are dropped or picked up"
						},
						{
							"functionName": "UpdateNumbersOnDrop",
							"functionDescription": "",
							"functionCategory": "Inventory",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "DropItemID",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 502377326410642
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 152934803521712,
							"children": [
								{
									"eventType": "variable",
									"name": "currentCount",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 742311642453352
								},
								{
									"eventType": "variable",
									"name": "itemName",
									"type": "string",
									"initialValue": "\"\"",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 610198720371269
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 456238208383920,
											"parameters": {
												"variable": "itemName",
												"value": "Functions.GetItemName(DropItemID)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 231436791569517,
											"parameters": {
												"variable": "currentCount",
												"value": "Dict_ItemNumbers.Get(itemName)"
											}
										},
										{
											"type": "script",
											"language": "typescript",
											"script": [
												"const dict = runtime.objects.Dict_ItemNumbers.getFirstInstance()!;",
												"try {",
												"    const dataMap = dict.getDataMap();",
												"    console.log(\"Dictionary contains:\");",
												"    dataMap.forEach((value, key) => {",
												"        console.log(`  \"${key}\": ${value}`);",
												"    });",
												"} catch (e) {",
												"    console.log(\"Error:\", e);",
												"}",
												"// Check if we have a valid slot selected",
												"console.log(\"Attempting to drop from slot:\", runtime.globalVars.CurrentItemSlot);",
												"if (runtime.globalVars.CurrentItemSlot < 0) {",
												"    console.log(\"No valid slot selected!\");",
												"    return;",
												"}"
											]
										}
									],
									"sid": 674337466697552,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 659743446546478,
													"parameters": {
														"variable": "currentCount",
														"comparison": 4,
														"value": "0"
													}
												}
											],
											"actions": [],
											"sid": 477689383852584,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 979889240625952,
															"parameters": {
																"variable": "currentCount",
																"comparison": 0,
																"value": "1"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "// Last item - set to 0"
														},
														{
															"id": "set-key",
															"objectClass": "Dict_ItemNumbers",
															"sid": 857069216646561,
															"parameters": {
																"key": "itemName",
																"value": "0"
															}
														}
													],
													"sid": 351149519425872,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-size",
																	"objectClass": "Arr_InvCollection",
																	"sid": 543931402729592,
																	"parameters": {
																		"axis": "y",
																		"comparison": 0,
																		"value": "1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-at-xy",
																	"objectClass": "Arr_InvCollection",
																	"sid": 312428475213311,
																	"parameters": {
																		"x": "0",
																		"y": "0",
																		"value": "0"
																	}
																}
															],
															"sid": 888249912534294
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-size",
																	"objectClass": "Arr_InvCollection",
																	"sid": 306778051327199,
																	"parameters": {
																		"axis": "y",
																		"comparison": 4,
																		"value": "1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-at-xy",
																	"objectClass": "Arr_InvCollection",
																	"sid": 520786409583924,
																	"parameters": {
																		"x": "0",
																		"y": "0",
																		"value": "0"
																	}
																}
															],
															"sid": 179097137972776,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 781756734107424,
																			"parameters": {
																				"variable": "CurrentInvPage",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "delete",
																			"objectClass": "Arr_InvCollection",
																			"sid": 759403971891913,
																			"parameters": {
																				"index": "CurrentItemSlot",
																				"axis": "y"
																			}
																		}
																	],
																	"sid": 697517568147535
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-eventvar",
																			"objectClass": "System",
																			"sid": 245341977688883,
																			"parameters": {
																				"variable": "CurrentInvPage",
																				"comparison": 4,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "delete",
																			"objectClass": "Arr_InvCollection",
																			"sid": 959554489386831,
																			"parameters": {
																				"index": "CurrentItemSlot + (25*CurrentInvPage)",
																				"axis": "y"
																			}
																		}
																	],
																	"sid": 404929724537569
																}
															]
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 883132896783419,
															"parameters": {
																"variable": "currentCount",
																"comparison": 4,
																"value": "1"
															}
														}
													],
													"actions": [
														{
															"id": "set-key",
															"objectClass": "Dict_ItemNumbers",
															"sid": 724726001487007,
															"parameters": {
																"key": "itemName",
																"value": "currentCount - 1"
															}
														}
													],
													"sid": 615394575843751
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 193005851358487,
															"disabled": true,
															"parameters": {
																"variable": "CurrentItemSlot",
																"value": "-1"
															}
														},
														{
															"callFunction": "populateItemSlots",
															"sid": 202471857927154
														},
														{
															"callFunction": "SaveGameData",
															"sid": 398765867965979
														},
														{
															"type": "script",
															"language": "javascript",
															"script": [
																"// In UpdateNumbersOnDrop, add a \"Run JavaScript\" action:",
																"const arr2 = runtime.objects.Arr_InvCollection.getFirstInstance();",
																"        console.log(`Array height after: ${arr2.height}`);",
																"        const newCount = runtime.objects.Dict_ItemNumbers.getFirstInstance().get(localVars.itemName);",
																"        console.log(`New count: ${newCount}`);"
															]
														}
													],
													"sid": 214310799777603
												}
											]
										}
									]
								}
							]
						},
						{
							"functionName": "UpdateNumbersOnPickup",
							"functionDescription": "",
							"functionCategory": "Inventory",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "GainItemID",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 226760091234583
								},
								{
									"name": "NumberGained",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 318452935104219
								}
							],
							"bookmark": true,
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 288686251962069,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Inventories",
											"sid": 643444055537876,
											"parameters": {
												"instance-variable": "CategoryName",
												"comparison": 0,
												"value": "\"main\""
											}
										}
									],
									"actions": [
										{
											"type": "script",
											"language": "typescript",
											"script": [
												"console.log(`UpdateNumbersOnPickup called: ItemID=${localVars.GainItemID}, Qty=${localVars.NumberGained}`);"
											]
										}
									],
									"sid": 311134712803394,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "contains-value",
													"objectClass": "Inventories",
													"sid": 407029693368242,
													"parameters": {
														"value": "GainItemID"
													}
												}
											],
											"actions": [
												{
													"id": "add-key",
													"objectClass": "Dict_ItemNumbers",
													"sid": 439030655042453,
													"parameters": {
														"key": "Functions.GetItemName(GainItemID)",
														"value": "Dict_ItemNumbers.Get(Functions.GetItemName(GainItemID)) + NumberGained"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 519628712917558,
													"parameters": {
														"variable": "TempVarX",
														"value": "Functions.GetItemName(GainItemID)"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const itemName = runtime.callFunction(\"GetItemName\", localVars.GainItemID);",
														"console.log('Setting Dict_ItemNumbers key:', runtime.globalVars, 'value:', localVars.NumberGained);",
														"//runtime.objects.Dict_ItemNumbers.getFirstInstance()!.setKey(itemName, localVars.NumberGained);",
														""
													]
												}
											],
											"sid": 314281050670712
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "contains-value",
													"objectClass": "Inventories",
													"sid": 376017171991719,
													"parameters": {
														"value": "GainItemID"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 477601537389018,
											"children": [
												{
													"eventType": "comment",
													"text": "If the inventory is empty, we add the item to the first slot in the array and then update the dictionary. "
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-xy",
															"objectClass": "Inventories",
															"sid": 335790406698257,
															"parameters": {
																"x": "0",
																"y": "0",
																"comparison": 0,
																"value": "0"
															}
														}
													],
													"actions": [
														{
															"id": "set-at-xy",
															"objectClass": "Inventories",
															"sid": 211126881709166,
															"parameters": {
																"x": "0",
																"y": "0",
																"value": "GainItemID"
															}
														},
														{
															"type": "comment",
															"text": "Edit these actions to use the return function to get ItemName"
														},
														{
															"id": "add-key",
															"objectClass": "Dict_ItemNumbers",
															"sid": 594209200955512,
															"parameters": {
																"key": "Functions.GetItemName(GainItemID)",
																"value": "Dict_ItemNumbers.Get(Functions.GetItemName(GainItemID)) + NumberGained"
															}
														},
														{
															"callFunction": "UpdateInvArray",
															"sid": 472823843415431,
															"disabled": true
														}
													],
													"sid": 342629802110256,
													"isOrBlock": true
												},
												{
													"eventType": "comment",
													"text": "If the inventory already has items in it, we add the item as a new slot in the array and then update the dictionary"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 467854721216098
														}
													],
													"actions": [
														{
															"id": "push",
															"objectClass": "Inventories",
															"sid": 280334294390233,
															"parameters": {
																"where": "back",
																"value": "GainItemID",
																"axis": "y"
															}
														},
														{
															"id": "add-key",
															"objectClass": "Dict_ItemNumbers",
															"sid": 592960849013829,
															"parameters": {
																"key": "Functions.GetItemName(GainItemID)",
																"value": "Dict_ItemNumbers.Get(Functions.GetItemName(GainItemID)) + NumberGained"
															}
														},
														{
															"callFunction": "UpdateInvArray",
															"sid": 880166970725787,
															"disabled": true
														}
													],
													"sid": 488848983470721
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"callFunction": "populateItemSlots",
													"sid": 851301076229613
												},
												{
													"callFunction": "SaveGameData",
													"sid": 649078742436796
												}
											],
											"sid": 316454020417933
										}
									]
								}
							]
						},
						{
							"functionName": "OpenClose_Inventory",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 906819367482514,
									"parameters": {
										"group-name": "\"Player Engine\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 817721059329517,
									"parameters": {
										"group-name": "\"Enemies\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "Player_Base",
									"sid": 487454495346396,
									"behaviorType": "8Direction",
									"parameters": {
										"state": "disabled"
									}
								},
								{
									"callFunction": "hideItemHint",
									"sid": 545374664722762
								},
								{
									"callFunction": "displayInteractionHint",
									"sid": 727499860833843,
									"parameters": [
										"\"None\""
									]
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 801991382871598,
									"parameters": {
										"variable": "CurrentInvWindow",
										"value": "\"main\""
									}
								}
							],
							"sid": 192841212808491,
							"children": [
								{
									"eventType": "comment",
									"text": "if Inventory isn't visible, make it appear"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 281607975233787,
											"parameters": {
												"layer": "\"Inventory\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 446204476490864,
											"parameters": {
												"variable": "Player_WorldX",
												"value": "Player_Base.X"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 956552345809591,
											"parameters": {
												"variable": "Player_WorldY",
												"value": "Player_Base.Y"
											}
										},
										{
											"id": "set-layer-scale",
											"objectClass": "System",
											"sid": 508620888222126,
											"parameters": {
												"layer": "\"Inventory\"",
												"scale": ".5"
											}
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 370868813039168,
											"parameters": {
												"layer": "\"Inventory\"",
												"visibility": "visible"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 228078571871586,
											"parameters": {
												"group-name": "\"Player Engine\"",
												"state": "deactivated"
											}
										},
										{
											"id": "move-to-layer",
											"objectClass": "Player_Base",
											"sid": 157245985085604,
											"parameters": {
												"layer": "\"Inventory\""
											}
										},
										{
											"id": "move-to-layer",
											"objectClass": "Player_Mask",
											"sid": 172104246376737,
											"parameters": {
												"layer": "\"Inventory\""
											}
										},
										{
											"id": "move-to-layer",
											"objectClass": "PlayerSystem",
											"sid": 601955323025210,
											"parameters": {
												"layer": "\"Inventory\""
											}
										}
									],
									"sid": 493409480799105,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-on-layer",
													"objectClass": "PlayerSystem",
													"sid": 959162036220209,
													"parameters": {
														"layer": "\"Inventory\""
													}
												},
												{
													"id": "is-on-layer",
													"objectClass": "Player_Mask",
													"sid": 462918281976588,
													"parameters": {
														"layer": "\"Inventory\""
													}
												},
												{
													"id": "is-on-layer",
													"objectClass": "Player_Base",
													"sid": 966368956930223,
													"parameters": {
														"layer": "\"Inventory\""
													}
												}
											],
											"actions": [
												{
													"callFunction": "updateOutfit",
													"sid": 115713698515921
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Player_Mask",
													"sid": 331360997204493,
													"parameters": {
														"instance-variable": "Direction",
														"value": "\"Down\""
													}
												},
												{
													"id": "set-mirrored",
													"objectClass": "PlayerSystem",
													"sid": 115328139677334,
													"parameters": {
														"state": "not-mirrored"
													}
												},
												{
													"id": "move-to-top",
													"objectClass": "PlayerSystem",
													"sid": 247784513313121
												},
												{
													"id": "set-animation-frame",
													"objectClass": "PlayerSystem",
													"sid": 705485095250133,
													"parameters": {
														"frame-number": "0"
													}
												},
												{
													"id": "stop-animation",
													"objectClass": "PlayerSystem",
													"sid": 835072150265783
												},
												{
													"id": "set-scale",
													"objectClass": "PlayerSystem",
													"sid": 330990879072533,
													"parameters": {
														"scale": "8"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 845567280403477,
													"parameters": {
														"group-name": "\"Player Engine\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-position",
													"objectClass": "Player_Mask",
													"sid": 350516080287985,
													"disabled": true,
													"parameters": {
														"x": "430",
														"y": "240"
													}
												},
												{
													"id": "set-position",
													"objectClass": "PlayerSystem",
													"sid": 692159191999721,
													"parameters": {
														"x": "430",
														"y": "230"
													}
												},
												{
													"id": "sort-z-order",
													"objectClass": "System",
													"sid": 120955520221755,
													"parameters": {
														"object": "PlayerSystem",
														"instance-variable": {
															"name": "layer",
															"objectClass": "PlayerSystem"
														}
													}
												}
											],
											"sid": 866728746194799
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Else - If Inventory is visible, close it, and dismiss interaction hint"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 806471080747128
										}
									],
									"actions": [
										{
											"id": "move-to-layer",
											"objectClass": "Player_Base",
											"sid": 787083514311227,
											"parameters": {
												"layer": "\"Objects\""
											}
										},
										{
											"id": "move-to-layer",
											"objectClass": "PlayerSystem",
											"sid": 353208811492845,
											"parameters": {
												"layer": "\"Objects\""
											}
										},
										{
											"id": "set-scale",
											"objectClass": "PlayerSystem",
											"sid": 847860908714463,
											"parameters": {
												"scale": "1"
											}
										},
										{
											"id": "set-position",
											"objectClass": "Player_Base",
											"sid": 211991206950111,
											"parameters": {
												"x": "Player_WorldX",
												"y": "Player_WorldY"
											}
										},
										{
											"id": "set-layer-visible",
											"objectClass": "System",
											"sid": 322102703645954,
											"parameters": {
												"layer": "\"Inventory\"",
												"visibility": "invisible"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 204763122818007,
											"parameters": {
												"variable": "CurrentItemSlot",
												"value": "0"
											}
										},
										{
											"id": "set-layer-scale",
											"objectClass": "System",
											"sid": 118514942046694,
											"parameters": {
												"layer": "\"Inventory\"",
												"scale": "1"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 527298806889168,
											"parameters": {
												"group-name": "\"Player Engine\"",
												"state": "activated"
											}
										},
										{
											"id": "set-enabled",
											"objectClass": "Player_Base",
											"sid": 510591271110964,
											"behaviorType": "8Direction",
											"parameters": {
												"state": "enabled"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 813735239121750,
											"parameters": {
												"group-name": "\"Enemies\"",
												"state": "activated"
											}
										},
										{
											"callFunction": "displayInteractionHint",
											"sid": 310729975125097,
											"parameters": [
												"\"None\""
											]
										}
									],
									"sid": 870746260891856
								}
							]
						},
						{
							"functionName": "grantFreeItem",
							"functionDescription": "suspend ShopMode for one free \"purchase\"",
							"functionCategory": "Inventory",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 823591453719771,
									"parameters": {
										"variable": "ShopMode",
										"value": "false"
									}
								},
								{
									"id": "wait-for-signal",
									"objectClass": "System",
									"sid": 876368981416351,
									"parameters": {
										"tag": "\"Item Taken\""
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 857333271656766,
									"parameters": {
										"variable": "ShopMode",
										"value": "true"
									}
								}
							],
							"sid": 272845970260800
						}
					],
					"sid": 728442693760521
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Return Functions",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "TempReturnNumber",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 294799271954694
						},
						{
							"eventType": "variable",
							"name": "TempReturnString",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 264232028081184
						},
						{
							"functionName": "GetItemStrength",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemIndex",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 813728156449043
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 797930521004712,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 461415133863112,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 424850913795937,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 611873768130496,
													"parameters": {
														"path": "\".id\"",
														"cmp": 0,
														"value": "ItemIndex"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 520919365281370,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".strength\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const strength = (globalThis as any).AdventureLand.Items.getItemStrength(localVars.ItemIndex);",
														"localVars.TempReturnNumber = strength || 0;"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 752771312030540,
													"parameters": {
														"value": "TempReturnNumber"
													}
												}
											],
											"sid": 583483126153756
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemCategory",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "string",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemIndex",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 923377100274997
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 448598049280153,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 844431694696791,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 268479587893337,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 885617592641680,
													"parameters": {
														"path": "\".id\"",
														"cmp": 0,
														"value": "ItemIndex"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 462964614083157,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".category\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const itemCategory = (globalThis as any).AdventureLand.Items.getItemCategory(localVars.ItemIndex);",
														"localVars.TempReturnString = itemCategory || \"\";"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 786212899446045,
													"parameters": {
														"value": "TempReturnString"
													}
												}
											],
											"sid": 453211263278011
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemDescription",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "string",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemIndex",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 564314718299652
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 413447473794320,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 139675587265767,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 117901832612639,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 862958263038421,
													"parameters": {
														"path": "\".id\"",
														"cmp": 0,
														"value": "ItemIndex"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 342387838618067,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".description\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const description = (globalThis as any).AdventureLand.Items.getItemDescription(localVars.ItemIndex);",
														"localVars.TempReturnString = description || \"\";"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 858005619851402,
													"parameters": {
														"value": "TempReturnString"
													}
												}
											],
											"sid": 841709874913142
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemName",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "string",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemIndex",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 609567045594595
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 541054465758777,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 666118736332333,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 991234866797450,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 871558870322027,
													"parameters": {
														"path": "\".id\"",
														"cmp": 0,
														"value": "ItemIndex"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 221365763344786,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".name\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const itemName = (globalThis as any).AdventureLand.Items.getItemName(localVars.ItemIndex);",
														"console.log('GetItemName for id:',localVars.ItemIndex,' = output:', itemName);",
														"localVars.TempReturnString = itemName || \"\";"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 219046237553865,
													"parameters": {
														"value": "TempReturnString"
													}
												}
											],
											"sid": 343829639093367
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemCostume",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "string",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemIndex",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 939925778451380
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 517850161107580,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 579172227823017,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 291036925540316,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 407894000272985,
													"parameters": {
														"path": "\".id\"",
														"cmp": 0,
														"value": "ItemIndex"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 480238250812420,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".costume\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const costume = (globalThis as any).AdventureLand.Items.getItemCostume(localVars.ItemIndex);",
														"localVars.TempReturnString = costume || \"\";"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 355500364586912,
													"parameters": {
														"value": "TempReturnString"
													}
												}
											],
											"sid": 414300452827860
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemCostumeByName",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "string",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemName",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 911837391536856
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 200752810454617,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 126076431840732,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 600566912131786,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 230868756181639,
													"parameters": {
														"path": "\".name\"",
														"cmp": 0,
														"value": "ItemName"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 306508779037160,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".costume\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"if (!localVars.ItemName || localVars.ItemName === \"\") {",
														"    // Empty equipment slots are normal - don't log warnings",
														"    return \"\";",
														"}",
														"const costume = (globalThis as any).AdventureLand.Items.getItemCostumeByName(localVars.ItemName);",
														"localVars.TempReturnString = costume || \"\";"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 698107131315445,
													"parameters": {
														"value": "TempReturnString"
													}
												}
											],
											"sid": 574827086643285
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemID",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemName",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 582693617677145
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 304306383015257,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 343717052397171,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 676279011752695,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 376734795249482,
													"parameters": {
														"path": "\".name\"",
														"cmp": 0,
														"value": "ItemName"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 266439023894709,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".id\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const itemId = (globalThis as any).AdventureLand.Items.getItemId(localVars.ItemName);",
														"runtime.setReturnValue(itemId);",
														"console.log(`setting itemId to ${itemId}`);",
														"localVars.TempReturnNumber = itemId || \"\";"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 985697785577468,
													"parameters": {
														"value": "TempReturnNumber"
													}
												}
											],
											"sid": 947995465641746
										}
									]
								}
							]
						},
						{
							"functionName": "GetItemCostbyID",
							"functionDescription": "",
							"functionCategory": "Return",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "ItemIndex",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 440668239564612
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 123834023606702,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "JSON_ItemsLibrary",
											"sid": 634556535399412,
											"parameters": {
												"path": "\"items\""
											}
										}
									],
									"actions": [],
									"sid": 322040725658830,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-value",
													"objectClass": "JSON_ItemsLibrary",
													"sid": 162961630745446,
													"parameters": {
														"path": "\".id\"",
														"cmp": 0,
														"value": "ItemIndex"
													}
												}
											],
											"actions": [
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 529774595566847,
													"disabled": true,
													"parameters": {
														"value": "JSON_ItemsLibrary.Get(\".cost\")"
													}
												},
												{
													"type": "script",
													"language": "typescript",
													"script": [
														"const cost = (globalThis as any).AdventureLand.Items.getItemCost(localVars.ItemIndex);",
														"localVars.TempReturnNumber = cost || 0;"
													]
												},
												{
													"id": "set-function-return-value",
													"objectClass": "Functions",
													"sid": 227381850946599,
													"parameters": {
														"value": "TempReturnNumber"
													}
												}
											],
											"sid": 252943871041062
										}
									]
								}
							]
						}
					],
					"sid": 280539952447916
				}
			],
			"sid": 717799658382655
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "HUD",
			"description": "Creation of heads up display UI",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 166548278395195
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Create HUD display"
						}
					],
					"sid": 446165356286726,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 824838808476425,
									"parameters": {
										"variable": "TouchMode"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 479630768867301,
									"parameters": {
										"object-to-create": "HUD_BG",
										"layer": "\"HUD_UI\"",
										"x": "-10",
										"y": "4",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "HUD_BG",
									"sid": 458749984812529,
									"parameters": {
										"scale": ".5"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 936060222649989,
									"parameters": {
										"object-to-create": "obj_HeartsFrame",
										"layer": "\"HUD_UI\"",
										"x": "0",
										"y": "0",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "obj_HeartsFrame",
									"sid": 766403592762968,
									"parameters": {
										"scale": ".6"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 805875188780720,
									"parameters": {
										"object-to-create": "Btn_Action",
										"layer": "\"HUD_UI\"",
										"x": "8",
										"y": "18",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Btn_Action",
									"sid": 856390327795435,
									"parameters": {
										"instance-variable": "LinkID",
										"value": "-1"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "Btn_Action",
									"sid": 146822402479964,
									"parameters": {
										"frame-number": "\"Gray\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Btn_Action",
									"sid": 610422124152985,
									"parameters": {
										"instance-variable": "Actions",
										"value": "\"Inventory\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "Btn_Action",
									"sid": 462533566430373
								},
								{
									"id": "set-visible",
									"objectClass": "Btn_Action",
									"sid": 698158023667898,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-size",
									"objectClass": "Btn_Action",
									"sid": 108526811239722,
									"parameters": {
										"width": "24",
										"height": "24"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 777562902505640,
									"parameters": {
										"object-to-create": "Collection",
										"layer": "\"HUD_UI\"",
										"x": "12",
										"y": "22",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 485167631068231,
									"disabled": true,
									"parameters": {
										"object-to-create": "obj_TextNameFrame",
										"layer": "\"HUD_UI\"",
										"x": "-51",
										"y": "-19",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "obj_TextNameFrame",
									"sid": 320650678092956,
									"disabled": true,
									"parameters": {
										"scale": ".5"
									}
								}
							],
							"sid": 461709111991991
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 514786621145001,
									"parameters": {
										"variable": "TouchMode"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 282314828014239,
									"parameters": {
										"object-to-create": "HUD_BG",
										"layer": "\"HUD_UI\"",
										"x": "-10",
										"y": "4",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "HUD_BG",
									"sid": 825361533746683,
									"parameters": {
										"scale": ".5"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 796353593403064,
									"parameters": {
										"object-to-create": "obj_HeartsFrame",
										"layer": "\"HUD_UI\"",
										"x": "0",
										"y": "0",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "obj_HeartsFrame",
									"sid": 166394167380899,
									"parameters": {
										"scale": ".6"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 480724235103323,
									"parameters": {
										"object-to-create": "Btn_Action",
										"layer": "\"HUD_UI\"",
										"x": "8",
										"y": "18",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Btn_Action",
									"sid": 299113040622089,
									"parameters": {
										"instance-variable": "LinkID",
										"value": "-1"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "Btn_Action",
									"sid": 678599149707118,
									"parameters": {
										"frame-number": "\"Gray\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Btn_Action",
									"sid": 728377854592058,
									"parameters": {
										"instance-variable": "Actions",
										"value": "\"Inventory\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "Btn_Action",
									"sid": 317268920285760
								},
								{
									"id": "set-visible",
									"objectClass": "Btn_Action",
									"sid": 398495129817992,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-size",
									"objectClass": "Btn_Action",
									"sid": 900132566163729,
									"parameters": {
										"width": "24",
										"height": "24"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 353349321208587,
									"parameters": {
										"object-to-create": "Collection",
										"layer": "\"HUD_UI\"",
										"x": "8",
										"y": "22",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 396409235392500,
									"parameters": {
										"object-to-create": "obj_Text_I",
										"layer": "\"HUD_UI\"",
										"x": "22",
										"y": "18",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_Text_I",
									"sid": 114586755639856,
									"parameters": {
										"text": "\"i\""
									}
								},
								{
									"id": "set-font-color",
									"objectClass": "obj_Text_I",
									"sid": 753500810712060,
									"parameters": {
										"color": "rgbEx255(31, 107, 7)"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 558042867004431,
									"parameters": {
										"object-to-create": "obj_Text_I",
										"layer": "\"HUD_UI\"",
										"x": "23",
										"y": "19",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_Text_I",
									"sid": 145693313329163,
									"parameters": {
										"text": "\"i\""
									}
								}
							],
							"sid": 932203439264816
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "DPad",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "displayMobileDirBtns",
							"functionDescription": "Show directional arrows for player navigation",
							"functionCategory": "HUD",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 516007472581482,
									"parameters": {
										"object-to-create": "transArc",
										"layer": "\"HUD_UI\"",
										"x": "47",
										"y": "193",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-size",
									"objectClass": "transArc",
									"sid": 803490633215658,
									"parameters": {
										"width": "95",
										"height": "95"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 730437263757166,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "16",
										"y": "216",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 378462901855573,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "rotate-counter-clockwise",
									"objectClass": "DPad_Arrow",
									"sid": 726314023305298,
									"parameters": {
										"degrees": "135"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 180600022290124,
									"parameters": {
										"frame-number": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 524759611637409,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"DownLeft\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 834867727948463
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 608525077198976,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "16",
										"y": "172",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 458013008686865,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "rotate-counter-clockwise",
									"objectClass": "DPad_Arrow",
									"sid": 114688728597838,
									"parameters": {
										"degrees": "45"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 259063525269460,
									"parameters": {
										"frame-number": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 691062864148278,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"UpLeft\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 757386468913783
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 835411151306533,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "64",
										"y": "216",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 797149044551189,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "rotate-clockwise",
									"objectClass": "DPad_Arrow",
									"sid": 586178074503080,
									"parameters": {
										"degrees": "135"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 294925698429050,
									"parameters": {
										"frame-number": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 505165500621426,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"DownRight\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 421734946672139
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 742722707055937,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "64",
										"y": "172",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 436291385461290,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "rotate-clockwise",
									"objectClass": "DPad_Arrow",
									"sid": 129481270190459,
									"parameters": {
										"degrees": "45"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 568061155721837,
									"parameters": {
										"frame-number": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 832598136045836,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"UpRight\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 743119049639909
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 303068381570416,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "40",
										"y": "170",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 129601733902266,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 484940829710221,
									"parameters": {
										"frame-number": "\"LtUp\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 576797613511532,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"Up\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 273118304461559
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 229382007499309,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "16",
										"y": "196",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 542548698140529,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 733985989071730,
									"parameters": {
										"frame-number": "\"LtLeft\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 157836702642882,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"Left\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 413193031446488
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 454826846332974,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "40",
										"y": "220",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 240502255097536,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 887736538776326,
									"parameters": {
										"frame-number": "\"LtDown\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 301355871104432,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"Down\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 887336458367667
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 102943448581902,
									"parameters": {
										"object-to-create": "DPad_Arrow",
										"layer": "\"HUD_UI\"",
										"x": "64",
										"y": "196",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-scale",
									"objectClass": "DPad_Arrow",
									"sid": 206112003268462,
									"parameters": {
										"scale": "1.6"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "DPad_Arrow",
									"sid": 596270620032578,
									"parameters": {
										"frame-number": "\"LtRight\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "DPad_Arrow",
									"sid": 809600445635127,
									"parameters": {
										"instance-variable": "Direction",
										"value": "\"Right\""
									}
								},
								{
									"id": "stop-animation",
									"objectClass": "DPad_Arrow",
									"sid": 219006839678609
								}
							],
							"sid": 239044678680942
						}
					],
					"sid": 593623740786653
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Hints & Gems",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "showAttackHint",
							"functionDescription": "Add weapon + \"A\" in HUD",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 357916042724629,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 988089882312399,
											"parameters": {
												"variable": "TouchMode"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 220714964220898,
											"parameters": {
												"object-to-create": "Btn_Action",
												"layer": "\"HUD_UI\"",
												"x": "380",
												"y": "200",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Btn_Action",
											"sid": 647929518766430,
											"parameters": {
												"instance-variable": "LinkID",
												"value": "-1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Btn_Action",
											"sid": 138720207335323,
											"parameters": {
												"instance-variable": "Actions",
												"value": "\"Attack\""
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Btn_Action",
											"sid": 431523806052612,
											"parameters": {
												"frame-number": "\"Gray\""
											}
										},
										{
											"id": "set-visible",
											"objectClass": "Btn_Action",
											"sid": 181304131263911,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-size",
											"objectClass": "Btn_Action",
											"sid": 172165051165213,
											"parameters": {
												"width": "40",
												"height": "40"
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 528991136986945,
											"parameters": {
												"object-to-create": "Attack",
												"layer": "\"HUD_UI\"",
												"x": "390",
												"y": "202",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Attack",
											"sid": 924189609313333,
											"parameters": {
												"frame-number": "\"Sword\""
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "Attack",
											"sid": 758261755611525
										},
										{
											"id": "set-size",
											"objectClass": "Attack",
											"sid": 347336792137847,
											"parameters": {
												"width": "14",
												"height": "30"
											}
										}
									],
									"sid": 963898536799267
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 831065755150348,
											"parameters": {
												"variable": "TouchMode"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 608645950270195,
											"parameters": {
												"object-to-create": "HUD_BG",
												"layer": "\"HUD_UI\"",
												"x": "14",
												"y": "4",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "HUD_BG",
											"sid": 430479349960021,
											"parameters": {
												"where": "behind",
												"object": "obj_HeartsFrame"
											}
										},
										{
											"id": "set-scale",
											"objectClass": "HUD_BG",
											"sid": 773777080406707,
											"parameters": {
												"scale": ".5"
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 227693305154243,
											"parameters": {
												"object-to-create": "Btn_Action",
												"layer": "\"HUD_UI\"",
												"x": "34",
												"y": "18",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Btn_Action",
											"sid": 658328320618925,
											"parameters": {
												"instance-variable": "LinkID",
												"value": "-1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Btn_Action",
											"sid": 692433049904931,
											"parameters": {
												"instance-variable": "Actions",
												"value": "\"Attack\""
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Btn_Action",
											"sid": 313756332660610,
											"parameters": {
												"frame-number": "\"Gray\""
											}
										},
										{
											"id": "set-visible",
											"objectClass": "Btn_Action",
											"sid": 758490909965344,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-size",
											"objectClass": "Btn_Action",
											"sid": 906256138646361,
											"parameters": {
												"width": "24",
												"height": "24"
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 352145525247108,
											"parameters": {
												"object-to-create": "Attack",
												"layer": "\"HUD_UI\"",
												"x": "37",
												"y": "21",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "Attack",
											"sid": 262183911622176,
											"parameters": {
												"frame-number": "\"Sword\""
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "Attack",
											"sid": 178362993812208
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 719778154452228,
											"parameters": {
												"object-to-create": "obj_Text_A",
												"layer": "\"HUD_UI\"",
												"x": "48",
												"y": "19",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-text",
											"objectClass": "obj_Text_A",
											"sid": 637178037991954,
											"parameters": {
												"text": "\"a\""
											}
										},
										{
											"id": "set-font-color",
											"objectClass": "obj_Text_A",
											"sid": 465122487268389,
											"parameters": {
												"color": "rgbEx255(31, 107, 7)"
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 914857015297854,
											"parameters": {
												"object-to-create": "obj_Text_A",
												"layer": "\"HUD_UI\"",
												"x": "47",
												"y": "18",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-text",
											"objectClass": "obj_Text_A",
											"sid": 911215227476382,
											"parameters": {
												"text": "\"a\""
											}
										}
									],
									"sid": 610791166323159
								}
							]
						},
						{
							"functionName": "hideAttackHint",
							"functionDescription": "Remove Weapon + \"A\" in HUD",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "is-on-layer",
									"objectClass": "Attack",
									"sid": 226365554522988,
									"parameters": {
										"layer": "\"HUD_UI\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Attack",
									"sid": 117068650113702
								}
							],
							"sid": 406037209570786,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-text",
											"objectClass": "obj_Text_A",
											"sid": 549600410146390,
											"parameters": {
												"text-to-compare": "\"a\"",
												"case-sensitivity": "ignore-case"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "obj_Text_A",
											"sid": 228682313306712
										},
										{
											"id": "destroy",
											"objectClass": "obj_Text_A",
											"sid": 873648129715019
										}
									],
									"sid": 129274449287975
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Btn_Action",
											"sid": 506759815543688,
											"parameters": {
												"instance-variable": "Actions",
												"comparison": 0,
												"value": "\"Attack\""
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Btn_Action",
											"sid": 236952846237202
										}
									],
									"sid": 796971498737405
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-x",
											"objectClass": "HUD_BG",
											"sid": 692681954736230,
											"parameters": {
												"comparison": 0,
												"x-co-ordinate": "14"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "HUD_BG",
											"sid": 994329625726926
										}
									],
									"sid": 457699616649283
								}
							]
						},
						{
							"functionName": "showGemsInHUD",
							"functionDescription": "Display Gems count in HUD",
							"functionCategory": "HUD",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 979720487529658,
									"parameters": {
										"object-to-create": "obj_Text_A",
										"layer": "\"HUD_UI\"",
										"x": "32",
										"y": "18",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_Text_A",
									"sid": 654211668362102,
									"parameters": {
										"text": "\"[icon=Gem]\""
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 645452665155407,
									"parameters": {
										"object-to-create": "HUD_BG",
										"layer": "\"HUD_UI\"",
										"x": "20",
										"y": "4",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "move-to-object",
									"objectClass": "HUD_BG",
									"sid": 179272237321718,
									"parameters": {
										"where": "behind",
										"object": "obj_HeartsFrame"
									}
								},
								{
									"id": "set-scale",
									"objectClass": "HUD_BG",
									"sid": 101753994905757,
									"parameters": {
										"scale": ".5"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 515151642604955,
									"parameters": {
										"object-to-create": "obj_Text_A",
										"layer": "\"HUD_UI\"",
										"x": "46",
										"y": "18",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_Text_A",
									"sid": 563201006655611,
									"parameters": {
										"text": "Dict_SaveGameData.Get(\"Gems\")"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "obj_Text_A",
									"sid": 884295764366622,
									"parameters": {
										"instance-variable": "field",
										"value": "\"Gems\""
									}
								},
								{
									"id": "set-font-color",
									"objectClass": "obj_Text_A",
									"sid": 288769297374218,
									"parameters": {
										"color": "rgbEx255(31, 107, 7)"
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 365439883128939,
									"parameters": {
										"object-to-create": "obj_Text_A",
										"layer": "\"HUD_UI\"",
										"x": "47",
										"y": "19",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "obj_Text_A",
									"sid": 183133882867942,
									"parameters": {
										"instance-variable": "field",
										"value": "\"Gems\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_Text_A",
									"sid": 201311518482519,
									"parameters": {
										"text": "Dict_SaveGameData.Get(\"Gems\")"
									}
								}
							],
							"sid": 658344682266942
						}
					],
					"sid": 201288502150000
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Option Menus",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"functionName": "Menu_Select",
							"functionDescription": "determining what to do when someone selects a menu item",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "Text",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 374022091547949
								},
								{
									"name": "Menu",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 983184567620411
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 620714950063135,
							"children": [
								{
									"eventType": "comment",
									"text": "Title screen commands"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 532341485847725,
											"parameters": {
												"variable": "Text",
												"comparison": 0,
												"value": "\"New Game\""
											}
										}
									],
									"actions": [
										{
											"id": "remove-item",
											"objectClass": "LocalStorage",
											"sid": 726941158165436,
											"parameters": {
												"key": "\"SaveGameData\""
											}
										},
										{
											"id": "remove-item",
											"objectClass": "LocalStorage",
											"sid": 556912895789149,
											"parameters": {
												"key": "\"InvCollection\""
											}
										},
										{
											"id": "remove-item",
											"objectClass": "LocalStorage",
											"sid": 232473198824923,
											"parameters": {
												"key": "\"ItemNumbers\""
											}
										},
										{
											"id": "remove-item",
											"objectClass": "LocalStorage",
											"sid": 237788938627399,
											"parameters": {
												"key": "\"ItemTriggersCollected\""
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 628359067564965,
											"parameters": {
												"variable": "GameInitialized",
												"value": "false"
											}
										},
										{
											"id": "set-size",
											"objectClass": "Arr_ItemTriggersCollected",
											"sid": 820956390256344,
											"parameters": {
												"width": "1",
												"height": "1",
												"depth": "1"
											}
										},
										{
											"id": "clear",
											"objectClass": "Arr_ItemTriggersCollected",
											"sid": 833060654729039,
											"parameters": {
												"value": "0"
											}
										},
										{
											"id": "clear",
											"objectClass": "Inventories",
											"sid": 278965117739266,
											"parameters": {
												"value": "0"
											}
										},
										{
											"id": "clear",
											"objectClass": "Dict_ItemNumbers",
											"sid": 731315483329969
										},
										{
											"id": "clear",
											"objectClass": "Dict_SaveGameData",
											"sid": 945238197685527
										},
										{
											"id": "clear-storage",
											"objectClass": "LocalStorage",
											"sid": 480929001068089
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 980310578084907,
											"parameters": {
												"seconds": "0.1",
												"use-timescale": true
											}
										},
										{
											"callFunction": "initializeGameData",
											"sid": 336398925407177
										},
										{
											"callFunction": "Transition",
											"sid": 597241330840080,
											"parameters": [
												"\"Out\"",
												"\"LayoutChange\"",
												"\"\""
											]
										},
										{
											"id": "wait-for-signal",
											"objectClass": "System",
											"sid": 416381467077502,
											"parameters": {
												"tag": "\"LayoutChange\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 389462231105840,
											"parameters": {
												"group-name": "\"Player Engine\"",
												"state": "activated"
											}
										},
										{
											"id": "go-to-layout-by-name",
											"objectClass": "System",
											"sid": 803607409628433,
											"parameters": {
												"layout": "\"World_00\""
											}
										}
									],
									"sid": 907293076980002
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 935787705581806,
											"parameters": {
												"variable": "Text",
												"comparison": 0,
												"value": "\"Load Game\""
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 484203580013058,
											"parameters": {
												"variable": "Text",
												"comparison": 0,
												"value": "\"Try Again\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "initializeGameData",
											"sid": 883730139555407
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 986916920107585,
											"parameters": {
												"seconds": "0.1",
												"use-timescale": true
											}
										},
										{
											"callFunction": "Transition",
											"sid": 255749163244119,
											"parameters": [
												"\"Out\"",
												"\"LayoutChange\"",
												"\"\""
											]
										},
										{
											"id": "wait-for-signal",
											"objectClass": "System",
											"sid": 326190589552235,
											"parameters": {
												"tag": "\"LayoutChange\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 868785798795151,
											"parameters": {
												"group-name": "\"Player Engine\"",
												"state": "activated"
											}
										},
										{
											"id": "go-to-layout-by-name",
											"objectClass": "System",
											"sid": 629939344369762,
											"parameters": {
												"layout": "\"World_00\""
											}
										},
										{
											"id": "set-boolean-eventvar",
											"objectClass": "System",
											"sid": 385243274008696,
											"parameters": {
												"variable": "RecoveringFromDeath",
												"value": "true"
											}
										}
									],
									"sid": 631053329346557,
									"isOrBlock": true
								}
							]
						}
					],
					"sid": 596492412334612
				}
			],
			"sid": 798673745992563
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Triggers",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Trigger Functions",
					"description": "Functions triggered by interacting with objects in the game",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-start-of-layout",
									"objectClass": "System",
									"sid": 675832286558855
								}
							],
							"actions": [
								{
									"id": "map-function",
									"objectClass": "Functions",
									"sid": 761153190447567,
									"parameters": {
										"name": "\"TriggerFunctions\"",
										"string": "\"checkYourself\"",
										"function": "OpenClose_Inventory"
									}
								},
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"console.log(\"Testing function access:\", typeof (window as any).debugPlayerSimple);"
									]
								}
							],
							"sid": 119729088397068
						}
					],
					"sid": 638190920999623
				},
				{
					"eventType": "comment",
					"text": "Change to DEV settings",
					"background-color": [
						0.7843137254901961,
						1,
						0,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 624520369523339,
							"parameters": {
								"key": 68
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).AdventureLandDebug.testDisableEnemyAI();"
							]
						}
					],
					"sid": 605008597095231
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 642326096827439,
							"parameters": {
								"key": 69
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).AdventureLandDebug.testEnableEnemyAI();"
							]
						}
					],
					"sid": 438863817002561
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 929328303511032,
							"parameters": {
								"key": 71
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "javascript",
							"script": [
								"if ((globalThis).AdventureLand && (globalThis).AdventureLand.Debug) {",
								"    (globalThis).AdventureLand.Debug.logSystemStatus();",
								"}"
							]
						}
					],
					"sid": 377624114875677
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 577304441071631,
							"parameters": {
								"key": 72
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).AdventureLand.Debug.testAllSystems();"
							]
						}
					],
					"sid": 295430206908178
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 280271384703481,
							"parameters": {
								"key": 82
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).AdventureLandDebug.testDialogueReader()"
							]
						}
					],
					"sid": 106477380742072
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 783430427227209,
							"parameters": {
								"key": 80
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).AdventureLandDebug.testPennyDialogue()"
							]
						}
					],
					"sid": 119070354345818
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 826016800655263,
							"parameters": {
								"key": 86
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).AdventureLandDebug.debugVillageDialogue()"
							]
						}
					],
					"sid": 196662075782166,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 903652099678937,
							"parameters": {
								"key": 84
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"// Show current enemies",
								"               (globalThis as any).listActiveEnemies();",
								"               ",
								"               // Test cleanup without transition",
								"               console.log(\"Testing cleanup...\");",
								"               (globalThis as any).cleanupEnemies();",
								"               ",
								"               // Check result",
								"               console.log(\"After cleanup:\");",
								"               (globalThis as any).listActiveEnemies();",
								"               ",
								"               console.log(\"✅ Cleanup test complete - no transition triggered\");"
							]
						}
					],
					"sid": 889817627042434
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 327720779191058,
							"parameters": {
								"key": 221
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 388402265279830,
							"parameters": {
								"variable": "AudioLevel",
								"value": "-50"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 513343221801219,
							"parameters": {
								"variable": "PlayerSpeed",
								"value": "150"
							}
						},
						{
							"id": "set-master-volume",
							"objectClass": "Audio",
							"sid": 546070310269227,
							"parameters": {
								"db": "-30"
							}
						},
						{
							"id": "set-max-speed",
							"objectClass": "Player_Base",
							"sid": 224528480009073,
							"behaviorType": "8Direction",
							"parameters": {
								"max-speed": "PlayerSpeed"
							}
						}
					],
					"sid": 228975982211612
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 781981875502777,
							"parameters": {
								"key": 219
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 328983152733239,
							"parameters": {
								"variable": "AudioLevel",
								"value": "0"
							}
						},
						{
							"id": "set-master-volume",
							"objectClass": "Audio",
							"sid": 778955072059288,
							"parameters": {
								"db": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 376548622815240,
							"parameters": {
								"variable": "PlayerSpeed",
								"value": "90"
							}
						},
						{
							"id": "set-max-speed",
							"objectClass": "Player_Base",
							"sid": 202233895263475,
							"behaviorType": "8Direction",
							"parameters": {
								"max-speed": "PlayerSpeed"
							}
						}
					],
					"sid": 536416927873779
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "In Dialogue",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 491493713159740,
									"parameters": {
										"key": 40
									}
								}
							],
							"actions": [
								{
									"callFunction": "changeDialogueSelection",
									"sid": 487291084264534
								}
							],
							"sid": 457239912602609
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 733783135773026,
									"parameters": {
										"key": 38
									}
								}
							],
							"actions": [
								{
									"callFunction": "changeDialogueSelection",
									"sid": 204533901404190
								}
							],
							"sid": 983607908481668
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 471407440725116,
									"parameters": {
										"object": "obj_TextOption1"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 278048902085716,
									"parameters": {
										"object": "obj_TextOption1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 403375209274899,
									"parameters": {
										"variable": "OptionSelection",
										"value": "0"
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_TextOption1",
									"sid": 755619168470625,
									"parameters": {
										"text": "(OptionSelection ? \"[icon=Empty]\" : \"[icon=Arrow]\") & right(Self.Text, len(Self.Text) - 12)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_TextOption2",
									"sid": 748330333899126,
									"parameters": {
										"text": "(OptionSelection ? \"[icon=Arrow]\" : \"[icon=Empty]\") & right(Self.Text, len(Self.Text) - 12)"
									}
								}
							],
							"sid": 845484017247259,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 370769027906275,
									"parameters": {
										"object": "obj_TextOption2"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 217540463024363,
									"parameters": {
										"object": "obj_TextOption2"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 209840081349358,
									"parameters": {
										"variable": "OptionSelection",
										"value": "1"
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_TextOption1",
									"sid": 575175597063576,
									"parameters": {
										"text": "(OptionSelection ? \"[icon=Empty]\" : \"[icon=Arrow]\") & right(Self.Text, len(Self.Text) - 12)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "obj_TextOption2",
									"sid": 715355432132851,
									"parameters": {
										"text": "(OptionSelection ? \"[icon=Arrow]\" : \"[icon=Empty]\") & right(Self.Text, len(Self.Text) - 12)"
									}
								}
							],
							"sid": 163593874072956,
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Only run if Player is in Dialogue already"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap",
									"objectClass": "Touch",
									"sid": 146616275135362
								},
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 895292514513976,
									"parameters": {
										"key": 32
									}
								}
							],
							"actions": [],
							"sid": 798843219982903,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 539969424862564,
											"parameters": {
												"variable": "InDialogue"
											}
										}
									],
									"actions": [],
									"sid": 671455362298072,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-running-typewriter-text",
													"objectClass": "obj_TextBlock",
													"sid": 876878091489966
												}
											],
											"actions": [
												{
													"id": "typewriter-finish",
													"objectClass": "obj_TextBlock",
													"sid": 234296888880243
												}
											],
											"sid": 431375157153390
										},
										{
											"eventType": "comment",
											"text": "if last Dialogue Result is \"End\" clean up dialogue"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 497486540097470,
													"parameters": {
														"variable": "DialogueResult",
														"comparison": 0,
														"value": "\"End\""
													}
												}
											],
											"actions": [
												{
													"callFunction": "endDialogue",
													"sid": 964637165648052
												}
											],
											"sid": 231522065248876
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 392696224248407
												}
											],
											"actions": [
												{
													"callFunction": "processDialogueLine",
													"sid": 685781626945851,
													"parameters": [
														"CurrentDialogueLine"
													]
												}
											],
											"sid": 712149555951124
										}
									]
								}
							],
							"isOrBlock": true
						}
					],
					"sid": 816640437289867
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Inventory Triggers",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 494522427672916,
									"parameters": {
										"key": 32
									}
								},
								{
									"id": "on-tap",
									"objectClass": "Touch",
									"sid": 802779322416208
								}
							],
							"actions": [],
							"sid": 247271343776292,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 578655622684553,
											"parameters": {
												"variable": "ItemShowing"
											},
											"isInverted": true
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 638348980072479,
											"parameters": {
												"variable": "InDialogue"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 608668639473319,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 894035588174013,
													"parameters": {
														"object": "InventoryItems"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "InventoryItems",
													"sid": 136953722217457,
													"parameters": {
														"instance-variable": "ItemName",
														"comparison": 1,
														"value": "\"\""
													}
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 597497209034491,
													"parameters": {
														"variable": "ItemShowing"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "inspectItem",
													"sid": 558963617853364,
													"parameters": [
														"InventoryItems.UID"
													]
												}
											],
											"sid": 894425226979069
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-on-layer",
													"objectClass": "InventoryItems",
													"sid": 407397677474228,
													"parameters": {
														"layer": "\"Inventory\""
													},
													"isInverted": true
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 337970779007320,
													"parameters": {
														"variable": "CurrentAction",
														"comparison": 0,
														"value": "\"Interact\""
													}
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 711247913175752,
													"parameters": {
														"variable": "ItemShowing"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 269680368906808,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-nearestfurthest",
															"objectClass": "InventoryItems",
															"sid": 149620750140619,
															"parameters": {
																"which": "nearest",
																"x": "Trigger_Player.X",
																"y": "Trigger_Player.Y"
															}
														}
													],
													"actions": [
														{
															"callFunction": "inspectItem",
															"sid": 454205130037082,
															"parameters": [
																"InventoryItems.UID"
															]
														}
													],
													"sid": 965313707691476
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 146882926047529
												},
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 373618657183773,
													"parameters": {
														"variable": "ItemShowing"
													}
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 697341333909694,
													"parameters": {
														"object": "InventoryBtns"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "hideItemHint",
													"sid": 432756079159551
												}
											],
											"sid": 489558530276424
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "Calling the function of Opening/Closing the Inventory"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 487757132599463,
									"parameters": {
										"layer": "\"Inventory\""
									}
								}
							],
							"actions": [],
							"sid": 926464538140200,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 620909194263576,
											"parameters": {
												"variable": "ItemShowing"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 618028646125799,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 780195369855417,
													"parameters": {
														"key": 40
													}
												}
											],
											"actions": [
												{
													"callFunction": "changeItemSelection",
													"sid": 123169528392451,
													"parameters": [
														"\"down\""
													]
												}
											],
											"sid": 107415711450425
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 102375293540662,
													"parameters": {
														"key": 38
													}
												}
											],
											"actions": [
												{
													"callFunction": "changeItemSelection",
													"sid": 879882865149786,
													"parameters": [
														"\"up\""
													]
												}
											],
											"sid": 217945958090340
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 676678559694396,
													"parameters": {
														"key": 39
													}
												}
											],
											"actions": [
												{
													"callFunction": "changeItemSelection",
													"sid": 556588969292045,
													"parameters": [
														"\"right\""
													]
												}
											],
											"sid": 643902763194175
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 147946544225932,
													"parameters": {
														"key": 37
													}
												}
											],
											"actions": [
												{
													"callFunction": "changeItemSelection",
													"sid": 239884757805868,
													"parameters": [
														"\"left\""
													]
												}
											],
											"sid": 951336646914937
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-tap-object",
											"objectClass": "Touch",
											"sid": 412532201918243,
											"parameters": {
												"object": "CloseX"
											}
										}
									],
									"actions": [
										{
											"callFunction": "OpenClose_Inventory",
											"sid": 825358536960131
										}
									],
									"sid": 573667152214560
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 810563081494683,
											"parameters": {
												"object": "CloseX"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation-frame",
											"objectClass": "CloseX",
											"sid": 237360633041434,
											"parameters": {
												"frame-number": "1"
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "CloseX",
											"sid": 386197073669858
										}
									],
									"sid": 256631231844419
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-object-clicked",
											"objectClass": "Mouse",
											"sid": 758509548548574,
											"parameters": {
												"mouse-button": "left",
												"click-type": "clicked",
												"object-clicked": "ItemSlot"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 255742584711852,
											"parameters": {
												"variable": "CurrentItemSlot",
												"value": "ItemSlot.SlotID"
											}
										}
									],
									"sid": 813150107309673
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 905565546140814,
											"parameters": {
												"key": 32
											}
										},
										{
											"id": "compare-animation-frame",
											"objectClass": "CloseX",
											"sid": 793877506542461,
											"parameters": {
												"comparison": 0,
												"number": "1"
											}
										}
									],
									"actions": [
										{
											"callFunction": "OpenClose_Inventory",
											"sid": 669134067304578
										}
									],
									"sid": 941284763051311
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 172790032265226,
											"parameters": {
												"object": "CloseX"
											},
											"isInverted": true
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 155255351834820,
											"parameters": {
												"variable": "CurrentItemSlot",
												"comparison": 1,
												"value": "-1"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation-frame",
											"objectClass": "CloseX",
											"sid": 455516062190247,
											"parameters": {
												"frame-number": "0"
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "CloseX",
											"sid": 403991141573652
										}
									],
									"sid": 895018364075569
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 375530390872313,
											"parameters": {
												"key": 32
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ItemSlot",
											"sid": 627979991606970,
											"parameters": {
												"instance-variable": "InventoryWindow",
												"comparison": 0,
												"value": "CurrentInvWindow"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ItemSlot",
											"sid": 172127585394861,
											"parameters": {
												"instance-variable": "SlotID",
												"comparison": 0,
												"value": "CurrentItemSlot"
											}
										}
									],
									"actions": [],
									"sid": 913448637656999,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "ItemSlot",
													"sid": 755489451540339,
													"parameters": {
														"instance-variable": "InventoryWindow",
														"comparison": 1,
														"value": "\"hair\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "ItemSlot",
													"sid": 678563482875165,
													"parameters": {
														"instance-variable": "ItemID",
														"comparison": 1,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"callFunction": "displayItemHint",
													"sid": 668669409588257,
													"parameters": [
														"ItemSlot.UID",
														"CurrentInvWindow"
													]
												}
											],
											"sid": 948115020471890
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "ItemSlot",
													"sid": 702506055918945,
													"parameters": {
														"instance-variable": "InventoryWindow",
														"comparison": 0,
														"value": "\"hair\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "ItemSlot",
													"sid": 226812365178970,
													"parameters": {
														"instance-variable": "SlotID",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"callFunction": "switchSelection",
													"sid": 205829222083801,
													"parameters": [
														"\"hair\"",
														"\"prev\""
													]
												}
											],
											"sid": 952075807899844
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "ItemSlot",
													"sid": 177455757659702,
													"parameters": {
														"instance-variable": "InventoryWindow",
														"comparison": 0,
														"value": "\"hair\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "ItemSlot",
													"sid": 999809696252142,
													"parameters": {
														"instance-variable": "SlotID",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"callFunction": "switchSelection",
													"sid": 800471006576105,
													"parameters": [
														"\"hair\"",
														"\"next\""
													]
												}
											],
											"sid": 457818541506926
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 556317577878257,
											"parameters": {
												"key": 27
											}
										},
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 429102235433007,
											"parameters": {
												"layer": "\"Hint\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "OpenClose_Inventory",
											"sid": 328250215489647
										}
									],
									"sid": 570515189104938
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 462808302246043,
									"parameters": {
										"key": 73
									}
								}
							],
							"actions": [],
							"sid": 191581640397151,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 593372985378147,
											"parameters": {
												"layer": "\"Inventory\""
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 843261990093888
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"callFunction": "OpenClose_Inventory",
											"sid": 728020528720181
										}
									],
									"sid": 632810795332516
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 409590058621764,
									"parameters": {
										"object": "Btn_Action"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "Btn_Action",
									"sid": 129282224267606,
									"parameters": {
										"instance-variable": "Actions",
										"comparison": 0,
										"value": "\"Inventory\""
									}
								},
								{
									"id": "is-group-active",
									"objectClass": "System",
									"sid": 264800027835598,
									"parameters": {
										"group-name": "\"Player Engine\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "OpenClose_Inventory",
									"sid": 100727694482920
								}
							],
							"sid": 560229064723825
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 219604439288927,
									"parameters": {
										"key": 27
									}
								},
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 506593237941382,
									"parameters": {
										"layer": "\"Hint\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "hideItemHint",
									"sid": 622611945032402
								}
							],
							"sid": 424371696205483
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 119792867501325,
									"parameters": {
										"object": "Btn_Select"
									}
								}
							],
							"actions": [
								{
									"callFunction": "selectItem",
									"sid": 825517366887274
								}
							],
							"sid": 257103485886584
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 169178887133602,
									"parameters": {
										"object": "Btn_Arrow"
									}
								}
							],
							"actions": [
								{
									"callFunction": "switchSelection",
									"sid": 271558937531181,
									"parameters": [
										"Btn_Arrow.state",
										"Btn_Arrow.direction"
									]
								}
							],
							"sid": 663747350527580
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 485063576914597,
									"parameters": {
										"object": "Btn_Cancel"
									}
								}
							],
							"actions": [
								{
									"callFunction": "hideItemHint",
									"sid": 387983348816044
								}
							],
							"sid": 666845185324920
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 905922085828446,
									"parameters": {
										"object": "Btn_Discard"
									}
								},
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 324793437788955,
									"parameters": {
										"layer": "\"Inventory\""
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Drop item out of collection (add \"D\" and ctrl_menu style nav + space)"
								},
								{
									"callFunction": "discardItem",
									"sid": 863656991668959
								}
							],
							"sid": 359025868106303
						}
					],
					"sid": 154126821032044
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Menus_Mechanics",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Text Option Menus"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 414770972822927,
									"parameters": {
										"object": "Ctrl_Menu"
									}
								}
							],
							"actions": [],
							"sid": 868635600466012,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Ctrl_Menu",
											"sid": 236631404823550,
											"parameters": {
												"instance-variable": "Menu",
												"comparison": 0,
												"value": "Current_Menu"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Ctrl_Menu",
											"sid": 224776057218376,
											"parameters": {
												"instance-variable": "IsCurrentMenu",
												"value": "true"
											}
										}
									],
									"sid": 719563536256883
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Ctrl_Menu",
											"sid": 274420033630414,
											"parameters": {
												"instance-variable": "Menu",
												"comparison": 1,
												"value": "Current_Menu"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "Ctrl_Menu",
											"sid": 561410298611165,
											"parameters": {
												"instance-variable": "IsCurrentMenu",
												"value": "false"
											}
										}
									],
									"sid": 695288954588621
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Ctrl_Menu",
									"sid": 207943299973308,
									"parameters": {
										"instance-variable": "IsCurrentMenu"
									}
								}
							],
							"actions": [],
							"sid": 323947983981432,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 328110018904399,
											"parameters": {
												"key": 40
											}
										},
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 859972631576152,
											"parameters": {
												"gamepad": "0",
												"button": "d-pad-down"
											}
										}
									],
									"actions": [],
									"sid": 155344650880038,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Ctrl_Menu",
													"sid": 710782194728236,
													"parameters": {
														"instance-variable": "CurrentLink",
														"comparison": 2,
														"value": "Self.MaxLinks"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "Ctrl_Menu",
													"sid": 750187542893743,
													"parameters": {
														"instance-variable": "CurrentLink",
														"value": "1"
													}
												}
											],
											"sid": 435773423148624
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 229983866891078,
											"parameters": {
												"key": 38
											}
										},
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 833006648602456,
											"parameters": {
												"gamepad": "0",
												"button": "d-pad-up"
											}
										}
									],
									"actions": [],
									"sid": 300130448840369,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Ctrl_Menu",
													"sid": 848576698782025,
													"parameters": {
														"instance-variable": "CurrentLink",
														"comparison": 4,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "Ctrl_Menu",
													"sid": 837765805396614,
													"parameters": {
														"instance-variable": "CurrentLink",
														"value": "1"
													}
												}
											],
											"sid": 511379936187045
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "SpriteFont_Menu",
											"sid": 420259055888338,
											"parameters": {
												"instance-variable": "Menu",
												"comparison": 0,
												"value": "Ctrl_Menu.Menu"
											}
										}
									],
									"actions": [],
									"sid": 364799745001279,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "SpriteFont_Menu",
													"sid": 948167799554804,
													"parameters": {
														"instance-variable": "Link_ID",
														"comparison": 0,
														"value": "Ctrl_Menu.CurrentLink"
													}
												}
											],
											"actions": [
												{
													"id": "set-effect-parameter",
													"objectClass": "SpriteFont_Menu",
													"sid": 395293711828436,
													"parameters": {
														"effect": "\"Brightness\"",
														"parameter-index": "0",
														"value": "100"
													}
												}
											],
											"sid": 875042853279688,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "on-key-pressed",
															"objectClass": "Keyboard",
															"sid": 266085109811919,
															"parameters": {
																"key": 90
															}
														},
														{
															"id": "on-button-pressed",
															"objectClass": "Gamepad",
															"sid": 855966123006561,
															"parameters": {
																"gamepad": "0",
																"button": "button-b"
															}
														},
														{
															"id": "on-key-pressed",
															"objectClass": "Keyboard",
															"sid": 888302166966407,
															"parameters": {
																"key": 32
															}
														}
													],
													"actions": [
														{
															"callFunction": "Menu_Select",
															"sid": 589495010881820,
															"parameters": [
																"SpriteFont_Menu.Text",
																"SpriteFont_Menu.Menu"
															]
														}
													],
													"sid": 614981061448494,
													"isOrBlock": true
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "SpriteFont_Menu",
													"sid": 150670261608415,
													"parameters": {
														"instance-variable": "Link_ID",
														"comparison": 1,
														"value": "Ctrl_Menu.CurrentLink"
													}
												}
											],
											"actions": [
												{
													"id": "set-effect-parameter",
													"objectClass": "SpriteFont_Menu",
													"sid": 744179062430095,
													"parameters": {
														"effect": "\"Brightness\"",
														"parameter-index": "0",
														"value": "50"
													}
												}
											],
											"sid": 493143311212439
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tap-object",
									"objectClass": "Touch",
									"sid": 539966429615680,
									"parameters": {
										"object": "SpriteFont_Menu"
									}
								}
							],
							"actions": [
								{
									"callFunction": "Menu_Select",
									"sid": 874030647735520,
									"parameters": [
										"SpriteFont_Menu.Text",
										"SpriteFont_Menu.Menu"
									]
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 669901958785667,
									"parameters": {
										"variable": "TouchMode",
										"value": "true"
									}
								}
							],
							"sid": 650232857313822
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 267585708105658,
									"parameters": {
										"object": "SpriteFont_Menu"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SpriteFont_Menu",
									"sid": 370385780685653,
									"parameters": {
										"instance-variable": "Menu",
										"comparison": 1,
										"value": "\"\""
									}
								}
							],
							"actions": [
								{
									"id": "set-effect-parameter",
									"objectClass": "SpriteFont_Menu",
									"sid": 972480910700284,
									"parameters": {
										"effect": "\"Brightness\"",
										"parameter-index": "0",
										"value": "100"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Ctrl_Menu",
									"sid": 796130402622398,
									"parameters": {
										"instance-variable": "CurrentLink",
										"value": "SpriteFont_Menu.Link_ID"
									}
								}
							],
							"sid": 716315776113892,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "SpriteFont_Menu",
											"sid": 250841387219557,
											"parameters": {
												"instance-variable": "Link_ID",
												"comparison": 1,
												"value": "Ctrl_Menu.CurrentLink"
											}
										}
									],
									"actions": [
										{
											"id": "set-effect-parameter",
											"objectClass": "SpriteFont_Menu",
											"sid": 242229249188455,
											"parameters": {
												"effect": "\"Brightness\"",
												"parameter-index": "0",
												"value": "50"
											}
										}
									],
									"sid": 273096875246628
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Selection of item hint buttons by keyboard"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 183654324026747,
									"parameters": {
										"layer": "\"Hint\""
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 891538731413020
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Ctrl_Btns",
									"sid": 281454250812843,
									"parameters": {
										"instance-variable": "MaxLinks",
										"value": "-1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Ctrl_Btns",
									"sid": 943358722356538,
									"parameters": {
										"instance-variable": "CurrentLink",
										"value": "0"
									}
								}
							],
							"sid": 878896928274706,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 931972036511261,
											"parameters": {
												"object": "InventoryBtns"
											}
										}
									],
									"actions": [],
									"sid": 309319839533720,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "InventoryBtns",
													"sid": 757724715850121,
													"parameters": {
														"instance-variable": "Actions",
														"comparison": 1,
														"value": "\"hidden\""
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 442363137329146,
													"parameters": {
														"first-value": "InventoryBtns.ObjectTypeName",
														"comparison": 1,
														"second-value": "\"Btn_Arrow\""
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 345846506379475,
													"parameters": {
														"first-value": "InventoryBtns.ObjectTypeName",
														"comparison": 1,
														"second-value": "\"Btn_Action\""
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "Ctrl_Btns",
													"sid": 324468219088094,
													"parameters": {
														"instance-variable": "MaxLinks",
														"value": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "InventoryBtns",
													"sid": 882585073148359,
													"parameters": {
														"instance-variable": "LinkID",
														"value": "Ctrl_Btns.MaxLinks"
													}
												}
											],
											"sid": 652483005486461
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "InventoryBtns",
													"sid": 253539454964264,
													"parameters": {
														"instance-variable": "Actions",
														"comparison": 0,
														"value": "\"hidden\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "InventoryBtns",
													"sid": 376809144080589,
													"parameters": {
														"instance-variable": "LinkID",
														"value": "-1"
													}
												}
											],
											"sid": 779143456792582
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 873575793435700,
									"parameters": {
										"layer": "\"Hint\""
									}
								},
								{
									"id": "is-on-layer",
									"objectClass": "InventoryBtns",
									"sid": 770876142628684,
									"parameters": {
										"layer": "\"Hint\"\n"
									}
								}
							],
							"actions": [],
							"sid": 995279100112227,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 116040456031142,
											"parameters": {
												"key": 37
											}
										},
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 150857083586234,
											"parameters": {
												"gamepad": "0",
												"button": "d-pad-left"
											}
										}
									],
									"actions": [],
									"sid": 793779815256163,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Ctrl_Btns",
													"sid": 552068254426008,
													"parameters": {
														"instance-variable": "CurrentLink",
														"comparison": 4,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "Ctrl_Btns",
													"sid": 307524785700112,
													"parameters": {
														"instance-variable": "CurrentLink",
														"value": "1"
													}
												}
											],
											"sid": 112944696339515
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 626798504837977,
											"parameters": {
												"key": 39
											}
										},
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 962983329060280,
											"parameters": {
												"gamepad": "0",
												"button": "d-pad-right"
											}
										}
									],
									"actions": [],
									"sid": 557863881201170,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Ctrl_Btns",
													"sid": 941603971288719,
													"parameters": {
														"instance-variable": "CurrentLink",
														"comparison": 2,
														"value": "Self.MaxLinks"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "Ctrl_Btns",
													"sid": 580328779487304,
													"parameters": {
														"instance-variable": "CurrentLink",
														"value": "1"
													}
												}
											],
											"sid": 192967997754501
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "InventoryBtns",
											"sid": 683465020399531,
											"parameters": {
												"instance-variable": "LinkID",
												"comparison": 1,
												"value": "Ctrl_Btns.CurrentLink"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation-frame",
											"objectClass": "InventoryBtns",
											"sid": 541465198841684,
											"parameters": {
												"frame-number": "0"
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "InventoryBtns",
											"sid": 474829464674598
										}
									],
									"sid": 855235283690133
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "InventoryBtns",
											"sid": 227846452866644,
											"parameters": {
												"instance-variable": "LinkID",
												"comparison": 0,
												"value": "Ctrl_Btns.CurrentLink"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation-frame",
											"objectClass": "InventoryBtns",
											"sid": 185798274834678,
											"parameters": {
												"frame-number": "1"
											}
										},
										{
											"id": "stop-animation",
											"objectClass": "InventoryBtns",
											"sid": 970166900067375
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 368748338421913,
											"parameters": {
												"variable": "TempVarY",
												"value": "\"current link?\"&Ctrl_Btns.CurrentLink&\" ObjectTypeName = \"&InventoryBtns.ObjectTypeName&\" AnimationFrame = \"&InventoryBtns.AnimationFrame"
											}
										}
									],
									"sid": 406455848345900,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 550344924351867,
													"parameters": {
														"key": 90
													}
												},
												{
													"id": "on-button-pressed",
													"objectClass": "Gamepad",
													"sid": 953363082254164,
													"parameters": {
														"gamepad": "0",
														"button": "button-b"
													}
												},
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 186267104819246,
													"parameters": {
														"key": 32
													}
												}
											],
											"actions": [],
											"sid": 315109642839151,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 367858719957086,
															"parameters": {
																"first-value": "InventoryBtns.ObjectTypeName",
																"comparison": 0,
																"second-value": "\"Btn_Select\"\n"
															}
														}
													],
													"actions": [
														{
															"callFunction": "selectItem",
															"sid": 756949137874105
														}
													],
													"sid": 302600365443878
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 522508461810796,
															"parameters": {
																"first-value": "InventoryBtns.ObjectTypeName",
																"comparison": 0,
																"second-value": "\"Btn_Discard\"\n"
															}
														}
													],
													"actions": [
														{
															"callFunction": "discardItem",
															"sid": 299803909163878
														}
													],
													"sid": 436880036018066
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 114675335800265,
															"parameters": {
																"first-value": "InventoryBtns.ObjectTypeName",
																"comparison": 0,
																"second-value": "\"Btn_Cancel\"\n"
															}
														}
													],
													"actions": [
														{
															"callFunction": "hideItemHint",
															"sid": 207072147375379
														}
													],
													"sid": 720391369979197
												}
											],
											"isOrBlock": true
										}
									]
								}
							]
						}
					],
					"sid": 679437998879336
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Interaction Check",
					"description": "As player is exploring world, does a tap/space hit to engage: Look (at Trigger), Talk (to character), Enter (door), Interact (with object/collectible)",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 202998808465338,
									"parameters": {
										"key": 32
									}
								},
								{
									"id": "on-tap",
									"objectClass": "Touch",
									"sid": 243356198273780
								}
							],
							"actions": [],
							"sid": 807350736415575,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 440606344063100,
											"parameters": {
												"variable": "InDialogue"
											},
											"isInverted": true
										},
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 823845509687764,
											"parameters": {
												"layer": "\"Inventory\""
											},
											"isInverted": true
										},
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 858672203697957,
											"parameters": {
												"variable": "ItemShowing"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 609255298983006,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 192912938425315,
													"parameters": {
														"object": "DPad_Arrow"
													},
													"isInverted": true
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 904498202125344,
													"parameters": {
														"object": "InventoryBtns"
													},
													"isInverted": true
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 419859255935917,
													"parameters": {
														"object": "InventoryItems"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 398489967948123,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 812949646018702,
															"parameters": {
																"variable": "CurrentAction",
																"comparison": 0,
																"value": "\"Talk\""
															}
														}
													],
													"actions": [
														{
															"callFunction": "checkCharacter",
															"sid": 449069526845110
														}
													],
													"sid": 194867010688502
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 924865805926956,
															"parameters": {
																"variable": "CurrentAction",
																"comparison": 0,
																"value": "\"Look\""
															}
														}
													],
													"actions": [
														{
															"callFunction": "checkScene",
															"sid": 920096507583604
														}
													],
													"sid": 199229126198146,
													"isOrBlock": true
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 210663282442984,
															"parameters": {
																"variable": "CurrentAction",
																"comparison": 0,
																"value": "\"Check\""
															}
														},
														{
															"id": "pick-nearestfurthest",
															"objectClass": "Trigger_Function",
															"sid": 365052426316181,
															"parameters": {
																"which": "nearest",
																"x": "Player_Base.X",
																"y": "Player_Base.Y"
															}
														},
														{
															"id": "is-overlapping-another-object",
															"objectClass": "Trigger_Function",
															"sid": 827775143225138,
															"parameters": {
																"object": "Trigger_Player"
															}
														}
													],
													"actions": [
														{
															"id": "call-mapped-function",
															"objectClass": "Functions",
															"sid": 566681222265261,
															"parameters": {
																"name": "\"TriggerFunctions\"",
																"string": "Trigger_Function.Function",
																"forward-params": "0"
															}
														}
													],
													"sid": 708431162903973
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 203479329798302,
															"parameters": {
																"variable": "CurrentAction",
																"comparison": 0,
																"value": "\"Enter\""
															}
														},
														{
															"id": "is-overlapping-another-object",
															"objectClass": "Trigger_Player",
															"sid": 716614997601028,
															"parameters": {
																"object": "Trigger_Door"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "Player_Mask",
															"sid": 164480700260896,
															"parameters": {
																"instance-variable": "Walking"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "Trigger_Door",
															"sid": 133501063649400,
															"parameters": {
																"instance-variable": "Void"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"callFunction": "enterDoor",
															"sid": 693469327183483
														}
													],
													"sid": 135269934667993
												}
											]
										}
									]
								}
							],
							"isOrBlock": true
						}
					],
					"sid": 449241251849058
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Player is Active",
					"description": "\"Player Engine\" is on and player is moving through world",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-group-active",
									"objectClass": "System",
									"sid": 134077656833494,
									"parameters": {
										"group-name": "\"Player Engine\""
									}
								}
							],
							"actions": [],
							"sid": 609885731329188,
							"children": [
								{
									"eventType": "group",
									"disabled": false,
									"title": "Player Action",
									"description": "",
									"isActiveOnStart": true,
									"children": [
										{
											"eventType": "comment",
											"text": "Slash"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-key-pressed",
													"objectClass": "Keyboard",
													"sid": 650311503562123,
													"parameters": {
														"key": 65
													}
												}
											],
											"actions": [
												{
													"callFunction": "StartAttack",
													"sid": 692279968015697
												}
											],
											"sid": 256369553617262
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-tap-object",
													"objectClass": "Touch",
													"sid": 117912771864648,
													"parameters": {
														"object": "Btn_Action"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "Btn_Action",
													"sid": 857503735451679,
													"parameters": {
														"instance-variable": "Actions",
														"comparison": 0,
														"value": "\"Attack\""
													}
												}
											],
											"actions": [
												{
													"callFunction": "StartAttack",
													"sid": 432940516802877
												}
											],
											"sid": 877822256123223
										}
									],
									"sid": 250486973387350
								},
								{
									"eventType": "group",
									"disabled": false,
									"title": "Player Walk",
									"description": "Detect for input to move player",
									"isActiveOnStart": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 470040224444486,
													"parameters": {
														"variable": "TouchMode"
													}
												}
											],
											"actions": [],
											"sid": 800399529680963,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 297619612558673,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-animation-frame-tag",
															"objectClass": "DPad_Arrow",
															"sid": 543156665208478,
															"parameters": {
																"comparison": 0,
																"tag": "\"LtUp\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 439870466888946,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "up"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 354992826859067,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 731001458943273,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Up\""
															}
														}
													],
													"sid": 633224196340157
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 612542983986249,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "DPad_Arrow",
															"sid": 382387026202191,
															"parameters": {
																"instance-variable": "Direction",
																"comparison": 0,
																"value": "\"UpLeft\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 695448373925660,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "up"
															}
														},
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 578799254401976,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "left"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 122230722985189,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 695735122546709,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Up\""
															}
														}
													],
													"sid": 212274240874380
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 287342820602819,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-animation-frame-tag",
															"objectClass": "DPad_Arrow",
															"sid": 414616450951725,
															"parameters": {
																"comparison": 0,
																"tag": "\"LtLeft\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 267054863987715,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "left"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 477691540244952,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 500187633124149,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Left\""
															}
														}
													],
													"sid": 228552511934932
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 517528543921656,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "DPad_Arrow",
															"sid": 318138415449017,
															"parameters": {
																"instance-variable": "Direction",
																"comparison": 0,
																"value": "\"DownLeft\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 150412580481946,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "down"
															}
														},
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 620121368098997,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "left"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 391399809408321,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 474379819233332,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Down\""
															}
														}
													],
													"sid": 501069628493630
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 172917928527159,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-animation-frame-tag",
															"objectClass": "DPad_Arrow",
															"sid": 383977686510485,
															"parameters": {
																"comparison": 0,
																"tag": "\"LtDown\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 670492677190424,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "down"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 777875881500652,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 190913693702581,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Down\""
															}
														}
													],
													"sid": 778480398574015
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 757389974176787,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "DPad_Arrow",
															"sid": 785451311056730,
															"parameters": {
																"instance-variable": "Direction",
																"comparison": 0,
																"value": "\"DownRight\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 971494058087512,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "down"
															}
														},
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 971811313160724,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "right"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 847233037039454,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 622872274115387,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Down\""
															}
														}
													],
													"sid": 765026566481185
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 832304298598635,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-animation-frame-tag",
															"objectClass": "DPad_Arrow",
															"sid": 238711465498941,
															"parameters": {
																"comparison": 0,
																"tag": "\"LtRight\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 549949485397363,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "right"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 656303156936987,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 435147406232669,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Right\""
															}
														}
													],
													"sid": 770345138452735
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-touching-object",
															"objectClass": "Touch",
															"sid": 439611885890959,
															"parameters": {
																"object": "DPad_Arrow"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "DPad_Arrow",
															"sid": 683618194779085,
															"parameters": {
																"instance-variable": "Direction",
																"comparison": 0,
																"value": "\"UpRight\""
															}
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 433538874708948,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "up"
															}
														},
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 154577332759639,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "right"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 543083953122232,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 654394917886618,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Up\""
															}
														}
													],
													"sid": 667157819058846
												}
											]
										},
										{
											"eventType": "comment",
											"text": "Allow the player to move in 8 directions but only change directions if a single direction is being pressed."
										},
										{
											"eventType": "comment",
											"text": "Keyboard"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 815784599944497,
													"parameters": {
														"key": 38
													}
												}
											],
											"actions": [],
											"sid": 510742580781960,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 190125024477012,
															"parameters": {
																"key": 40
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 690544851393685,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "up"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 478396758612301,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 495136594232411,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Up\""
															}
														}
													],
													"sid": 178208440827577
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 967440310914083,
															"parameters": {
																"key": 37
															},
															"isInverted": true
														},
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 269361792387362,
															"parameters": {
																"key": 39
															},
															"isInverted": true
														}
													],
													"actions": [],
													"sid": 412758655907474
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 299133885533341,
													"parameters": {
														"key": 40
													}
												}
											],
											"actions": [],
											"sid": 594348268211337,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 608359526832053,
															"parameters": {
																"key": 38
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 896725204469311,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "down"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 575951019922664,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 137927141717675,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Down\""
															}
														}
													],
													"sid": 210333084695597
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 695976820031422,
															"parameters": {
																"key": 37
															},
															"isInverted": true
														},
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 261831048291392,
															"parameters": {
																"key": 39
															},
															"isInverted": true
														}
													],
													"actions": [],
													"sid": 636137980940864
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 887132451908060,
													"parameters": {
														"key": 37
													}
												}
											],
											"actions": [],
											"sid": 889868488905225,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 360303135643272,
															"parameters": {
																"key": 39
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 728697413118536,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "left"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 237640200476054,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 728076766426512,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Left\""
															}
														}
													],
													"sid": 777955656788866
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 116298410066454,
															"parameters": {
																"key": 38
															},
															"isInverted": true
														},
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 919423285302611,
															"parameters": {
																"key": 40
															},
															"isInverted": true
														}
													],
													"actions": [],
													"sid": 932368886409896
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 776639641469689,
													"parameters": {
														"key": 39
													}
												}
											],
											"actions": [],
											"sid": 151686644140816,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 607337673812309,
															"parameters": {
																"key": 37
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "simulate-control",
															"objectClass": "Player_Base",
															"sid": 107110151939916,
															"behaviorType": "8Direction",
															"parameters": {
																"control": "right"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "Player_Mask",
															"sid": 350818179602932,
															"parameters": {
																"instance-variable": "Walking",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Player_Mask",
															"sid": 114407278594690,
															"parameters": {
																"instance-variable": "Direction",
																"value": "\"Right\""
															}
														}
													],
													"sid": 291120332672127
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 548012126004913,
															"parameters": {
																"key": 38
															},
															"isInverted": true
														},
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 260554199302705,
															"parameters": {
																"key": 40
															},
															"isInverted": true
														}
													],
													"actions": [],
													"sid": 209559866940848
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 400889704441855,
													"parameters": {
														"key": 38
													},
													"isInverted": true
												},
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 673232105575813,
													"parameters": {
														"key": 40
													},
													"isInverted": true
												},
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 794568203189670,
													"parameters": {
														"key": 37
													},
													"isInverted": true
												},
												{
													"id": "key-is-down",
													"objectClass": "Keyboard",
													"sid": 692222524702983,
													"parameters": {
														"key": 39
													},
													"isInverted": true
												},
												{
													"id": "is-touching-object",
													"objectClass": "Touch",
													"sid": 415635974963958,
													"parameters": {
														"object": "DPad_Arrow"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "Player_Mask",
													"sid": 161248534683187,
													"parameters": {
														"instance-variable": "Walking",
														"value": "false"
													}
												}
											],
											"sid": 500370667901788
										}
									],
									"sid": 339891723693422
								}
							]
						}
					],
					"sid": 958060508946580
				}
			],
			"sid": 327192124059834
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "World Return Functions",
			"description": "Functions to get game state data about each world",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "GetWorldName",
					"functionDescription": "",
					"functionCategory": "Return",
					"functionReturnType": "string",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "WorldXXID",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 260150310514878
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 902657032522963,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 378442273951432,
									"parameters": {
										"value": "WorldXXID=\"00\""
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 376015599906863,
									"parameters": {
										"value": "\"Leafwood Village\""
									}
								}
							],
							"sid": 739866138500596
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 817094954358550,
									"parameters": {
										"value": "WorldXXID=\"10\""
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 395159663903685,
									"parameters": {
										"value": "\"The Bottomless Lake\""
									}
								}
							],
							"sid": 255586994087993
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 327416897074231,
									"parameters": {
										"value": "WorldXXID=\"01\""
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 570897023513399,
									"parameters": {
										"value": "\"Leafwood Forest\""
									}
								}
							],
							"sid": 102609086799795
						}
					]
				}
			],
			"sid": 639078568370908
		}
	],
	"sid": 517972507276812
}