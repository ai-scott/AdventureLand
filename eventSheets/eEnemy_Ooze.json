{
	"name": "eEnemy_Ooze",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "Green Ooze",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Passive"
				},
				{
					"eventType": "variable",
					"name": "actionType",
					"type": "string",
					"initialValue": "\"none\"",
					"comment": "Parsed action type (hop, idle, walk, attack)",
					"isStatic": false,
					"isConstant": false,
					"sid": 791762697534150
				},
				{
					"eventType": "variable",
					"name": "oozeMaskUid",
					"type": "number",
					"initialValue": "0",
					"comment": "UID of the enemy mask for animations",
					"isStatic": false,
					"isConstant": false,
					"sid": 415850569424747
				},
				{
					"eventType": "variable",
					"name": "animName",
					"type": "string",
					"initialValue": "",
					"comment": "Animation name to play",
					"isStatic": false,
					"isConstant": false,
					"sid": 383210336283353
				},
				{
					"eventType": "variable",
					"name": "vectorX",
					"type": "number",
					"initialValue": "0",
					"comment": "Movement vector X component",
					"isStatic": false,
					"isConstant": false,
					"sid": 947431780742065
				},
				{
					"eventType": "variable",
					"name": "vectorY",
					"type": "number",
					"initialValue": "0",
					"comment": "Movement vector Y component",
					"isStatic": false,
					"isConstant": false,
					"sid": 549351656837192
				},
				{
					"eventType": "variable",
					"name": "oozeBaseUid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 878594619305355
				},
				{
					"eventType": "variable",
					"name": "aiResult",
					"type": "string",
					"initialValue": "\"none\"",
					"comment": "AI update result string containing action type and parameters (format: action|maskUid|animation|vectorX|vectorY)",
					"isStatic": false,
					"isConstant": false,
					"sid": 711103871595748
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-created",
							"objectClass": "En_Ooze_Base",
							"sid": 348031258120377
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "En_Ooze_Base",
							"sid": 922427718389052,
							"parameters": {
								"instance-variable": "Pair_ID",
								"value": "En_Ooze_Mask.UID"
							}
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"// Direct approach - no local variables needed:",
								"//(globalThis as any).initEnemy(runtime.objects.En_Ooze_Base.getFirstPickedInstance()!.uid, runtime.objects.En_Ooze_Mask.getFirstPickedInstance()!.uid, \"Ooze\");",
								"",
								"const oozeBase = runtime.objects.En_Ooze_Base.getFirstPickedInstance()!;",
								"const oozeMask = runtime.objects.En_Ooze_Mask.getFirstPickedInstance()!;",
								"(globalThis as any).initEnemy(oozeBase.uid, oozeMask.uid, \"Ooze\");",
								"(globalThis as any).registerEnemy(oozeBase, \"Ooze\");",
								""
							]
						}
					],
					"sid": 512817471739874
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 179791741980635
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "En_Ooze_Mask",
							"sid": 661063858182951,
							"parameters": {
								"x": "En_Ooze_Base.X",
								"y": "En_Ooze_Base.Y"
							}
						}
					],
					"sid": 905852908114544
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 256768011605875,
							"parameters": {
								"object": "En_Ooze_Base"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"// Add this BEFORE your updateEnemy call:",
								"//console.log(\"ðŸ”„ Updating Ooze:\", runtime.objects.En_Ooze_Base.getFirstPickedInstance()!.uid);"
							]
						},
						{
							"type": "script",
							"language": "typescript",
							"script": [
								"(globalThis as any).updateEnemy(runtime.objects.En_Ooze_Base.getFirstPickedInstance()!.uid);",
								""
							]
						}
					],
					"sid": 649373668073668,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 415666187124844,
									"parameters": {
										"first-value": "aiResult",
										"comparison": 1,
										"second-value": "\"none\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 780462825482275,
									"parameters": {
										"variable": "actionType",
										"value": "tokenat(aiResult, 0, \"|\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 184800104063790,
									"parameters": {
										"variable": "oozeMaskUid",
										"value": "int(tokenat(aiResult, 1, \"|\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 178335607538089,
									"parameters": {
										"variable": "oozeBaseUid",
										"value": "int(tokenat(aiResult, 5, \"|\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 727004729609704,
									"parameters": {
										"variable": "animName",
										"value": "tokenat(aiResult, 2, \"|\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 146536314131415,
									"parameters": {
										"variable": "vectorX",
										"value": "float(tokenat(aiResult, 3, \"|\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 226811352725526,
									"parameters": {
										"variable": "vectorY",
										"value": "float(tokenat(aiResult, 4, \"|\"))"
									}
								},
								{
									"type": "script",
									"language": "typescript",
									"script": [
										"console.log(\"=== ACTION HANDLING ===\");",
										"console.log(\"actionType:\", localVars.actionType);",
										"console.log(\"maskUid:\", localVars.maskUid);",
										"console.log(\"animName:\", localVars.animName); ",
										"console.log(\"vectorX:\", localVars.vectorX);",
										"console.log(\"vectorY:\", localVars.vectorY);",
										"console.log(\"=== END ACTION HANDLING ===\");"
									]
								}
							],
							"sid": 303989499214130,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 496049174537250,
											"parameters": {
												"first-value": "actionType",
												"comparison": 0,
												"second-value": "\"idle\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "Set_Animation",
											"sid": 585368704113757,
											"parameters": [
												"oozeMaskUid",
												"animName"
											]
										}
									],
									"sid": 925735614953235,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 297394311427476,
													"parameters": {
														"object": "En_Ooze_Base",
														"expression": "En_Ooze_Base.UID",
														"comparison": 0,
														"value": "int(tokenat(aiResult, 1, \"|\"))"
													}
												}
											],
											"actions": [
												{
													"id": "set-vector-x",
													"objectClass": "En_Ooze_Base",
													"sid": 516373722750180,
													"behaviorType": "8Direction",
													"parameters": {
														"vector-x": "0"
													}
												},
												{
													"id": "set-vector-y",
													"objectClass": "En_Ooze_Base",
													"sid": 958918633252434,
													"behaviorType": "8Direction",
													"parameters": {
														"vector-y": "0"
													}
												}
											],
											"sid": 494629658774330,
											"disabled": true
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 498285544553968,
											"parameters": {
												"first-value": "actionType",
												"comparison": 0,
												"second-value": "\"hop\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "Set_Animation",
											"sid": 854175576020683,
											"parameters": [
												"oozeMaskUid",
												"animName"
											]
										},
										{
											"type": "script",
											"language": "typescript",
											"script": [
												"console.log(\"HOP ACTION TRIGGERED!\");",
												"console.log(\"Setting vectors:\", localVars.vectorX, localVars.vectorY);"
											]
										}
									],
									"sid": 114324541359864,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 617708384044232,
													"parameters": {
														"object": "En_Ooze_Base",
														"expression": "En_Ooze_Base.UID",
														"comparison": 0,
														"value": "oozeBaseUid"
													}
												}
											],
											"actions": [
												{
													"id": "set-vector-x",
													"objectClass": "En_Ooze_Base",
													"sid": 531074571726911,
													"behaviorType": "8Direction",
													"parameters": {
														"vector-x": "vectorX"
													}
												},
												{
													"id": "set-vector-y",
													"objectClass": "En_Ooze_Base",
													"sid": 760049628420719,
													"behaviorType": "8Direction",
													"parameters": {
														"vector-y": "vectorY"
													}
												}
											],
											"sid": 626982480628176,
											"disabled": true
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 543546649379716
		}
	],
	"sid": 385949953741632
}